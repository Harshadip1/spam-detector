<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - SecureMessage AI</title>
    
<style data-inline-from="css/styles.css">
/* Modern CSS Reset and Complete Rewrite */
*,
*::before,
*::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

/* CSS Variables - Dark Theme Default */
:root {
    /* Colors - Cybersecurity Theme */
    --primary-color: #00d4ff;
    --primary-dark: #0099cc;
    --secondary-color: #39ff14;
    --danger-color: #ff4757;
    --warning-color: #ffd700;
    --success-color: #2ed573;
    --accent-color: #ff6b35;
    
    /* Dark Background Colors */
    --bg-primary: #0a0f1c;
    --bg-secondary: #1a1f2e;
    --bg-tertiary: #242938;
    --bg-card: #2d3748;
    --bg-glass: rgba(45, 55, 72, 0.8);
    
    /* Dark Text Colors */
    --text-primary: #ffffff;
    --text-secondary: #a0aec0;
    --text-muted: #718096;
    
    /* Dark Border Colors */
    --border-light: rgba(0, 212, 255, 0.2);
    --border-medium: rgba(0, 212, 255, 0.4);
    
    /* Gradients */
    --primary-gradient: linear-gradient(135deg, #00d4ff 0%, #0099cc 100%);
    --secondary-gradient: linear-gradient(135deg, #39ff14 0%, #2ed573 100%);
    --danger-gradient: linear-gradient(135deg, #ff4757 0%, #ff3742 100%);
    --card-gradient: linear-gradient(135deg, rgba(45, 55, 72, 0.9) 0%, rgba(26, 31, 46, 0.9) 100%);
    --hero-gradient: linear-gradient(135deg, #0a0f1c 0%, #1a1f2e 50%, #242938 100%);
    
    /* Footer (Spam Theme) */
    --footer-bg: linear-gradient(135deg, #0a0f1c 0%, #171b2a 60%, #1a1f2e 100%);
    --footer-border: rgba(255, 71, 87, 0.3); /* subtle danger accent */
    
    /* 3D Shadows and Effects */
    --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.3);
    --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.4);
    --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.5);
    --shadow-xl: 0 16px 32px rgba(0, 0, 0, 0.6);
    --shadow-glow: 0 0 20px rgba(0, 212, 255, 0.3);
    --shadow-glow-strong: 0 0 40px rgba(0, 212, 255, 0.5);
    --shadow-3d: 0 8px 16px rgba(0, 0, 0, 0.4), 0 4px 8px rgba(0, 0, 0, 0.3);
    --shadow-inset: inset 0 2px 4px rgba(0, 0, 0, 0.3);
    
    /* Spacing */
    --space-xs: 0.25rem;
    --space-sm: 0.5rem;
    --space-md: 1rem;
    --space-lg: 1.5rem;
    --space-xl: 2rem;
    --space-2xl: 3rem;
    
    /* Border Radius */
    --radius-sm: 0.375rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.75rem;
    --radius-xl: 1rem;
    
    /* Typography */
    --font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --font-size-xs: 0.75rem;
    --font-size-sm: 0.875rem;
    --font-size-base: 1rem;
    --font-size-lg: 1.125rem;
    --font-size-xl: 1.25rem;
    --font-size-2xl: 1.5rem;
    --font-size-3xl: 1.875rem;
    --font-size-4xl: 2.25rem;
    
    /* Transitions */
    --transition-fast: 150ms ease;
    --transition-normal: 300ms ease;
    --transition-slow: 500ms ease;
}

/* Base Styles */
html {
    scroll-behavior: smooth;
}

body {
    font-family: var(--font-family);
    font-size: var(--font-size-base);
    line-height: 1.6;
    color: var(--text-primary);
    background-color: var(--bg-primary);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Scrollbar */
::-webkit-scrollbar {
    width: 6px;
}

::-webkit-scrollbar-track {
    background: var(--bg-secondary);
}

::-webkit-scrollbar-thumb {
    background: var(--border-medium);
    border-radius: var(--radius-sm);
}

::-webkit-scrollbar-thumb:hover {
    background: var(--text-muted);
}

/* Typography */
h1, h2, h3, h4, h5, h6 {
    font-weight: 700;
    line-height: 1.2;
    color: var(--text-primary);
    margin-bottom: var(--space-md);
}

h1 { font-size: var(--font-size-4xl); }
h2 { font-size: var(--font-size-3xl); }
h3 { font-size: var(--font-size-2xl); }
h4 { font-size: var(--font-size-xl); }
h5 { font-size: var(--font-size-lg); }
h6 { font-size: var(--font-size-base); }

p {
    color: var(--text-secondary);
    margin-bottom: var(--space-md);
}

a {
    color: var(--primary-color);
    text-decoration: none;
    transition: color var(--transition-fast);
}

a:hover {
    color: var(--primary-dark);
}

/* Container */
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 var(--space-lg);
}

@media (max-width: 768px) {
    .container {
        padding: 0 var(--space-md);
    }
}

/* Enhanced 3D Buttons */
.btn {
    display: inline-flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-lg);
    font-size: var(--font-size-base);
    font-weight: 600;
    border: none;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-normal);
    text-decoration: none;
    position: relative;
    overflow: hidden;
    transform-style: preserve-3d;
}

.btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
}

.btn:hover::before {
    left: 100%;
}

.btn-primary {
    background: var(--primary-gradient);
    color: white;
    box-shadow: var(--shadow-3d), var(--shadow-glow);
    border: 1px solid rgba(0, 212, 255, 0.3);
}

.btn-primary:hover {
    transform: translateY(-3px) rotateX(5deg);
    box-shadow: var(--shadow-xl), var(--shadow-glow-strong);
    filter: brightness(1.1);
}

.btn-secondary {
    background: var(--card-gradient);
    color: var(--text-primary);
    border: 1px solid var(--border-light);
    box-shadow: var(--shadow-md);
}

.btn-secondary:hover {
    transform: translateY(-2px) rotateX(3deg);
    box-shadow: var(--shadow-lg);
    border-color: var(--primary-color);
}

.btn-outline {
    background: transparent;
    color: var(--primary-color);
    border: 2px solid var(--primary-color);
    box-shadow: var(--shadow-sm);
    backdrop-filter: blur(10px);
}

.btn-outline:hover {
    background: var(--primary-gradient);
    color: white;
    transform: translateY(-2px) rotateX(3deg);
    box-shadow: var(--shadow-lg), var(--shadow-glow);
}

/* Enhanced 3D Navigation */
.navbar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background: rgba(10, 15, 28, 0.95);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid var(--border-light);
    box-shadow: var(--shadow-lg), 0 0 30px rgba(0, 212, 255, 0.1);
    z-index: 1000;
    transition: all var(--transition-normal);
}

.nav-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-md) var(--space-lg);
    max-width: 1200px;
    margin: 0 auto;
}

.nav-logo {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    font-size: var(--font-size-xl);
    font-weight: 700;
    color: var(--text-primary);
}

.nav-logo i {
    color: var(--primary-color);
    font-size: var(--font-size-2xl);
}

.nav-menu {
    display: flex;
    align-items: center;
    gap: var(--space-xl);
    list-style: none;
}

.nav-link {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    font-weight: 500;
    color: var(--text-secondary);
    padding: var(--space-sm) var(--space-md);
    position: relative;
    transition: all var(--transition-normal);
    border-radius: var(--radius-md);
}

.nav-link:hover,
.nav-link.active {
    color: var(--primary-color);
    background: rgba(0, 212, 255, 0.1);
    transform: translateY(-2px);
    box-shadow: var(--shadow-glow);
}

.nav-link i {
    font-size: var(--font-size-sm);
    transition: transform var(--transition-fast);
}

.nav-link:hover i {
    transform: scale(1.2) rotate(5deg);
}

.nav-link.active::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 50%;
    transform: translateX(-50%);
    width: 20px;
    height: 2px;
    background-color: var(--primary-color);
    border-radius: 1px;
    box-shadow: var(--shadow-glow);
}

/* Profile Navigation */
.nav-profile {
    position: relative;
    display: flex;
    align-items: center;
}

.profile-circle {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--primary-gradient);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    cursor: pointer;
    transition: all var(--transition-normal);
    box-shadow: var(--shadow-md);
}

.profile-circle:hover {
    transform: translateY(-2px) scale(1.1);
    box-shadow: var(--shadow-lg), var(--shadow-glow);
}

.profile-dropdown {
    position: absolute;
    top: 100%;
    right: 0;
    background: var(--card-gradient);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-xl);
    padding: var(--space-md);
    min-width: 200px;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all var(--transition-normal);
    z-index: 1000;
    backdrop-filter: blur(20px);
}

.nav-profile:hover .profile-dropdown {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.dropdown-item {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    color: var(--text-secondary);
    text-decoration: none;
    border-radius: var(--radius-md);
    transition: all var(--transition-fast);
    margin-bottom: var(--space-xs);
}

.dropdown-item:hover {
    background: rgba(0, 212, 255, 0.1);
    color: var(--primary-color);
    transform: translateX(5px);
}

.dropdown-divider {
    height: 1px;
    background: var(--border-light);
    margin: var(--space-sm) 0;
}

.hamburger {
    display: none;
    flex-direction: column;
    gap: 4px;
    cursor: pointer;
    padding: var(--space-sm);
}

.nav-controls {
    display: flex;
    align-items: center;
    gap: var(--space-md);
}

.theme-toggle {
    background: var(--card-gradient);
    border: 1px solid var(--border-light);
    border-radius: 50%;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all var(--transition-normal);
    color: var(--primary-color);
    box-shadow: var(--shadow-sm);
}

.theme-toggle:hover {
    transform: translateY(-2px) rotateY(180deg);
    box-shadow: var(--shadow-md), var(--shadow-glow);
    background: var(--primary-gradient);
    color: white;
}

.hamburger .bar {
    width: 24px;
    height: 2px;
    background-color: var(--text-primary);
    transition: all var(--transition-fast);
}

@media (max-width: 768px) {
    .hamburger {
        display: flex;
    }
    
    .nav-menu {
        position: fixed;
        top: 100%;
        left: 0;
        right: 0;
        background-color: white;
        flex-direction: column;
        padding: var(--space-xl);
        border-top: 1px solid var(--border-light);
        transform: translateY(-100%);
        opacity: 0;
        visibility: hidden;
        transition: all var(--transition-normal);
    }
    
    .nav-menu.active {
        transform: translateY(0);
        opacity: 1;
        visibility: visible;
    }
}

/* Hero Section - Enhanced 3D Dark Theme */
.hero {
    padding: 120px 0 80px;
    background: var(--hero-gradient);
    position: relative;
    overflow: hidden;
}

.hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(circle at 20% 50%, rgba(0, 212, 255, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(57, 255, 20, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 80%, rgba(255, 107, 53, 0.1) 0%, transparent 50%);
    animation: heroGlow 8s ease-in-out infinite alternate;
}

@keyframes heroGlow {
    0% { opacity: 0.3; }
    100% { opacity: 0.7; }
}

.hero-content {
    text-align: center;
    margin-bottom: var(--space-2xl);
    position: relative;
    z-index: 2;
}

.hero-title {
    font-size: clamp(2rem, 5vw, 3.5rem);
    margin-bottom: var(--space-lg);
    line-height: 1.1;
    text-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
    animation: titleGlow 3s ease-in-out infinite alternate;
}

@keyframes titleGlow {
    0% { text-shadow: 0 4px 8px rgba(0, 0, 0, 0.5), 0 0 20px rgba(0, 212, 255, 0.3); }
    100% { text-shadow: 0 4px 8px rgba(0, 0, 0, 0.5), 0 0 30px rgba(0, 212, 255, 0.6); }
}

.highlight {
    color: var(--primary-color);
    position: relative;
    background: var(--primary-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    filter: drop-shadow(0 0 10px rgba(0, 212, 255, 0.5));
}

.hero-description {
    font-size: var(--font-size-lg);
    max-width: 600px;
    margin: 0 auto var(--space-2xl);
}

.hero-buttons {
    display: flex;
    gap: var(--space-lg);
    justify-content: center;
    flex-wrap: wrap;
}

.hero-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-xl);
    margin-top: var(--space-2xl);
}

.stat {
    text-align: center;
    padding: var(--space-lg);
    background-color: var(--bg-card);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--border-light);
}

.stat-number {
    font-size: var(--font-size-3xl);
    font-weight: 700;
    color: var(--primary-color);
    margin-bottom: var(--space-sm);
}

.stat-label {
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
    font-weight: 500;
}

/* Section Headers */
.section-header {
    text-align: center;
    margin-bottom: var(--space-2xl);
}

.section-header h2 {
    margin-bottom: var(--space-md);
}

.section-header p {
    font-size: var(--font-size-lg);
    max-width: 600px;
    margin: 0 auto;
}

/* Enhanced 3D Detector Section */
.detector-section {
    padding: 80px 0;
    background: var(--bg-secondary);
    position: relative;
    overflow: hidden;
}

.detector-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(circle at 10% 20%, rgba(0, 212, 255, 0.05) 0%, transparent 50%),
        radial-gradient(circle at 90% 80%, rgba(57, 255, 20, 0.05) 0%, transparent 50%);
    animation: detectorGlow 10s ease-in-out infinite alternate;
}

@keyframes detectorGlow {
    0% { opacity: 0.5; }
    100% { opacity: 1; }
}

.detector-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-2xl);
    align-items: start;
    position: relative;
    z-index: 2;
}

@media (max-width: 968px) {
    .detector-container {
        grid-template-columns: 1fr;
        gap: var(--space-xl);
    }
}

.detector-input {
    background: var(--card-gradient);
    padding: var(--space-2xl);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-3d), var(--shadow-glow);
    border: 1px solid var(--border-light);
    backdrop-filter: blur(20px);
    transform-style: preserve-3d;
    transition: all var(--transition-normal);
}

.detector-input:hover {
    transform: translateY(-5px) rotateX(2deg);
    box-shadow: var(--shadow-xl), var(--shadow-glow-strong);
}

.input-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-lg);
}

.input-header h3 {
    margin: 0;
}

.input-stats {
    display: flex;
    gap: var(--space-md);
    font-size: var(--font-size-sm);
    color: var(--text-muted);
}

#message-input {
    width: 100%;
    min-height: 200px;
    padding: var(--space-lg);
    background: rgba(10, 15, 28, 0.8);
    border: 2px solid var(--border-light);
    border-radius: var(--radius-lg);
    font-family: var(--font-family);
    font-size: var(--font-size-base);
    line-height: 1.5;
    color: var(--text-primary);
    resize: vertical;
    margin-bottom: var(--space-lg);
    transition: all var(--transition-normal);
    backdrop-filter: blur(10px);
    box-shadow: var(--shadow-inset);
}

#message-input:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.2), var(--shadow-glow);
    transform: translateY(-2px);
}

#message-input::placeholder {
    color: var(--text-muted);
}

.detector-actions {
    display: flex;
    gap: var(--space-md);
    flex-wrap: wrap;
}

.detector-result {
    background: var(--card-gradient);
    padding: var(--space-2xl);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-3d), var(--shadow-glow);
    border: 1px solid var(--border-light);
    backdrop-filter: blur(20px);
    transform-style: preserve-3d;
    transition: all var(--transition-normal);
    animation: resultSlideIn 0.5s ease-out;
}

@keyframes resultSlideIn {
    from {
        opacity: 0;
        transform: translateY(30px) rotateX(-10deg);
    }
    to {
        opacity: 1;
        transform: translateY(0) rotateX(0);
    }
}

.detector-result:hover {
    transform: translateY(-3px) rotateX(1deg);
    box-shadow: var(--shadow-xl), var(--shadow-glow-strong);
}

.result-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-xl);
    padding-bottom: var(--space-lg);
    border-bottom: 1px solid var(--border-light);
}

.result-status {
    display: flex;
    align-items: center;
    gap: var(--space-lg);
}

.status-icon {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--font-size-2xl);
}

.status-icon.safe {
    background-color: rgba(16, 185, 129, 0.1);
    color: var(--success-color);
}

.status-icon.warning {
    background-color: rgba(245, 158, 11, 0.1);
    color: var(--warning-color);
}

.status-icon.danger {
    background-color: rgba(239, 68, 68, 0.1);
    color: var(--danger-color);
}

.status-info h3 {
    margin-bottom: var(--space-xs);
}

.confidence-score {
    text-align: center;
}

.score-circle {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: conic-gradient(var(--primary-color) 0deg, var(--primary-color) var(--score-angle, 270deg), var(--border-light) var(--score-angle, 270deg));
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto var(--space-sm);
    position: relative;
}

.score-circle::before {
    content: '';
    position: absolute;
    inset: 8px;
    background-color: var(--bg-card);
    border-radius: 50%;
}

.score-circle span {
    position: relative;
    font-weight: 700;
    font-size: var(--font-size-lg);
    color: var(--primary-color);
}

.result-details {
    display: grid;
    gap: var(--space-lg);
}

.threat-indicators,
.suspicious-words,
.recommendations {
    background-color: var(--bg-secondary);
    padding: var(--space-lg);
    border-radius: var(--radius-lg);
    border: 1px solid var(--border-light);
}

.threat-indicators h4,
.suspicious-words h4,
.recommendations h4 {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-md);
    color: var(--text-primary);
}

#word-tags {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-sm);
}

.word-tag {
    padding: var(--space-xs) var(--space-sm);
    border-radius: var(--radius-sm);
    font-size: var(--font-size-sm);
    font-weight: 500;
    color: white;
}

.word-tag.high {
    background-color: var(--danger-color);
}

.word-tag.medium {
    background-color: var(--warning-color);
}

.word-tag.low {
    background-color: var(--success-color);
}

.recommendations ul {
    list-style: none;
    padding: 0;
}

.recommendations li {
    padding: var(--space-sm) 0;
    display: flex;
    align-items: flex-start;
    gap: var(--space-sm);
}

.recommendations li::before {
    content: '💡';
    flex-shrink: 0;
}

/* Tips Section */
.tips-section {
    padding: 60px 0;
    background-color: var(--bg-primary);
}

.tip-card {
    background-color: var(--bg-card);
    padding: var(--space-2xl);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-md);
    border: 1px solid var(--border-light);
    max-width: 800px;
    margin: 0 auto;
}

.tip-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-lg);
    padding-bottom: var(--space-lg);
    border-bottom: 1px solid var(--border-light);
}

.tip-header h3 {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin: 0;
}

.tip-header i {
    color: var(--warning-color);
    font-size: var(--font-size-xl);
}

.refresh-btn {
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md);
    padding: var(--space-sm);
    cursor: pointer;
    transition: all var(--transition-fast);
    color: var(--primary-color);
}

.refresh-btn:hover {
    background-color: var(--primary-color);
    color: white;
    transform: rotate(180deg);
}

.tip-content p {
    font-size: var(--font-size-lg);
    margin-bottom: var(--space-lg);
}

.tip-category {
    text-align: right;
}

.tip-category span {
    background-color: var(--primary-color);
    color: white;
    padding: var(--space-xs) var(--space-sm);
    border-radius: var(--radius-sm);
    font-size: var(--font-size-sm);
    font-weight: 500;
}

/* Features Section */
.features-section {
    padding: 80px 0;
    background-color: var(--bg-secondary);
}

.features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-xl);
}

.feature-card {
    background-color: var(--bg-card);
    padding: var(--space-2xl);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-md);
    border: 1px solid var(--border-light);
    text-align: center;
    transition: transform var(--transition-normal);
}

.feature-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
}

.feature-icon {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto var(--space-lg);
    color: white;
    font-size: var(--font-size-2xl);
}

.feature-card h3 {
    margin-bottom: var(--space-md);
}

/* About Section */
.about-section {
    padding: 80px 0;
    background-color: var(--bg-primary);
}

.about-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-2xl);
    align-items: center;
}

@media (max-width: 768px) {
    .about-content {
        grid-template-columns: 1fr;
        gap: var(--space-xl);
    }
}

.about-stats {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-lg);
    margin-top: var(--space-xl);
}

.about-stat {
    text-align: center;
}

.about-stat .stat-number {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    color: var(--primary-color);
    margin-bottom: var(--space-xs);
}

.about-stat .stat-label {
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
}

.about-features {
    display: grid;
    gap: var(--space-md);
}

.about-feature {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    padding: var(--space-md);
    background-color: var(--bg-secondary);
    border-radius: var(--radius-lg);
    border: 1px solid var(--border-light);
}

.about-feature i {
    color: var(--success-color);
    font-size: var(--font-size-lg);
}

/* Footer */
.footer {
    background: var(--footer-bg);
    color: white;
    padding: 60px 0 30px;
    box-shadow: 0 -10px 30px rgba(0, 0, 0, 0.3);
}

.footer-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-2xl);
    margin-bottom: var(--space-2xl);
}

@media (max-width: 768px) {
    .footer-content {
        grid-template-columns: 1fr;
        gap: var(--space-xl);
    }
}

.footer-brand {
    max-width: 400px;
}

.footer-logo {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    font-size: var(--font-size-xl);
    font-weight: 700;
    margin-bottom: var(--space-md);
}

.footer-logo i {
    color: var(--primary-color);
    font-size: var(--font-size-2xl);
}

.footer-brand p {
    color: #94a3b8;
    line-height: 1.6;
}

.footer-links {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-xl);
}

.footer-section h4 {
    color: white;
    margin-bottom: var(--space-md);
    font-size: var(--font-size-lg);
}

.footer-section ul {
    list-style: none;
    padding: 0;
}

.footer-section li {
    margin-bottom: var(--space-sm);
}

.footer-section a {
    color: #94a3b8;
    transition: color var(--transition-fast);
}

.footer-section a:hover {
    color: var(--primary-color);
}

.footer-bottom {
    text-align: center;
    padding-top: var(--space-xl);
    border-top: 1px solid var(--footer-border);
    color: #94a3b8;
}

/* Responsive Design */
@media (max-width: 768px) {
    .hero-title {
        font-size: var(--font-size-3xl);
    }
    
    .hero-buttons {
        flex-direction: column;
        align-items: center;
    }
    
    .btn {
        width: 100%;
        max-width: 300px;
        justify-content: center;
    }
    
    .detector-actions {
        flex-direction: column;
    }
    
    .result-header {
        flex-direction: column;
        gap: var(--space-lg);
        text-align: center;
    }
    
    .about-stats {
        grid-template-columns: 1fr;
        gap: var(--space-md);
    }
}

/* Loading Animation */
.loading {
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    border-top-color: white;
    animation: spin 1s ease-in-out infinite;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* Fade In Animation */
.fade-in {
    animation: fadeIn 0.5s ease-in-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ===== DASHBOARD STYLES ===== */

/* Dashboard Hero Section */
.dashboard-hero {
    background: var(--hero-gradient);
    padding: var(--space-2xl) 0;
    border-bottom: 1px solid var(--border-light);
}

.dashboard-header {
    text-align: center;
}

.welcome-section {
    margin-bottom: var(--space-lg);
}

.welcome-section h1 {
    font-size: var(--font-size-3xl);
    font-weight: 700;
    margin-bottom: var(--space-sm);
    background: var(--primary-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.user-info-bar {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: var(--space-sm);
    color: var(--text-secondary);
    font-size: var(--font-size-sm);
}

.separator {
    color: var(--text-muted);
}

.dashboard-header h2 {
    font-size: var(--font-size-2xl);
    font-weight: 600;
    margin-bottom: var(--space-sm);
    color: var(--text-primary);
}

.dashboard-header p {
    color: var(--text-secondary);
    margin-bottom: var(--space-xl);
}

.dashboard-controls {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: var(--space-md);
    flex-wrap: wrap;
}

.dashboard-select {
    background: var(--bg-card);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md);
    padding: var(--space-sm) var(--space-md);
    color: var(--text-primary);
    font-size: var(--font-size-sm);
    transition: var(--transition-normal);
}

.dashboard-select:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: var(--shadow-glow);
}

/* Statistics Overview */
.stats-overview {
    padding: var(--space-2xl) 0;
    background: var(--bg-secondary);
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-xl);
}

.stat-card {
    background: var(--card-gradient);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-lg);
    padding: var(--space-xl);
    backdrop-filter: blur(10px);
    box-shadow: var(--shadow-3d);
    transition: var(--transition-normal);
    position: relative;
    overflow: hidden;
}

.stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: var(--primary-gradient);
}

.stat-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-xl), var(--shadow-glow);
}

.stat-card.total-scans::before {
    background: var(--primary-gradient);
}

.stat-card.spam-detected::before {
    background: var(--danger-gradient);
}

.stat-card.safe-messages::before {
    background: var(--secondary-gradient);
}

.stat-card.accuracy-rate::before {
    background: linear-gradient(135deg, var(--warning-color) 0%, var(--accent-color) 100%);
}

.stat-icon {
    font-size: 3rem;
    margin-bottom: var(--space-md);
    opacity: 0.8;
}

.stat-content h3 {
    font-size: var(--font-size-3xl);
    font-weight: 700;
    margin-bottom: var(--space-sm);
    color: var(--text-primary);
}

.stat-content p {
    color: var(--text-secondary);
    font-size: var(--font-size-lg);
    margin-bottom: var(--space-md);
}

.stat-change {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    font-size: var(--font-size-sm);
    font-weight: 600;
}

.stat-change.positive {
    color: var(--success-color);
}

.stat-change.negative {
    color: var(--danger-color);
}

/* Charts Section */
.charts-section {
    padding: var(--space-2xl) 0;
    background: var(--bg-primary);
}

.charts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: var(--space-xl);
}

.chart-card {
    background: var(--card-gradient);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-lg);
    padding: var(--space-xl);
    backdrop-filter: blur(10px);
    box-shadow: var(--shadow-3d);
    transition: var(--transition-normal);
}

.chart-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-xl);
}

.chart-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-lg);
}

.chart-header h3 {
    font-size: var(--font-size-xl);
    font-weight: 600;
    color: var(--text-primary);
}

.chart-controls {
    display: flex;
    gap: var(--space-sm);
}

.chart-btn {
    background: transparent;
    border: 1px solid var(--border-light);
    border-radius: var(--radius-sm);
    padding: var(--space-xs) var(--space-sm);
    color: var(--text-secondary);
    font-size: var(--font-size-sm);
    cursor: pointer;
    transition: var(--transition-fast);
}

.chart-btn:hover,
.chart-btn.active {
    background: var(--primary-color);
    color: var(--bg-primary);
    border-color: var(--primary-color);
}

.chart-container {
    height: 300px;
    position: relative;
}

.legend {
    display: flex;
    gap: var(--space-md);
    margin-bottom: var(--space-md);
    flex-wrap: wrap;
}

.legend-item {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
}

.legend-color {
    width: 12px;
    height: 12px;
    border-radius: 50%;
}

.legend-color.safe {
    background: var(--success-color);
}

.legend-color.suspicious {
    background: var(--warning-color);
}

.legend-color.spam {
    background: var(--danger-color);
}

/* Activity Feed */
.activity-feed {
    max-height: 300px;
    overflow-y: auto;
}

.activity-item {
    display: flex;
    align-items: flex-start;
    gap: var(--space-md);
    padding: var(--space-md);
    border-bottom: 1px solid var(--border-light);
    transition: var(--transition-fast);
}

.activity-item:hover {
    background: rgba(0, 212, 255, 0.05);
}

.activity-icon {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--font-size-sm);
    flex-shrink: 0;
}

.activity-item.success .activity-icon {
    background: rgba(46, 213, 115, 0.2);
    color: var(--success-color);
}

.activity-item.danger .activity-icon {
    background: rgba(255, 71, 87, 0.2);
    color: var(--danger-color);
}

.activity-item.warning .activity-icon {
    background: rgba(255, 215, 0, 0.2);
    color: var(--warning-color);
}

.activity-content {
    flex: 1;
}

.activity-message {
    color: var(--text-primary);
    font-size: var(--font-size-sm);
    margin-bottom: var(--space-xs);
}

.activity-meta {
    display: flex;
    gap: var(--space-md);
    font-size: var(--font-size-xs);
    color: var(--text-muted);
}

.activity-status {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
}

.status-indicator {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--success-color);
    animation: pulse 2s infinite;
}

.status-indicator.active {
    background: var(--success-color);
}

/* Advanced Analytics */
.advanced-analytics {
    padding: var(--space-2xl) 0;
    background: var(--bg-secondary);
}

.section-header {
    text-align: center;
    margin-bottom: var(--space-2xl);
}

.section-header h2 {
    font-size: var(--font-size-3xl);
    font-weight: 700;
    margin-bottom: var(--space-sm);
    color: var(--text-primary);
}

.section-header p {
    color: var(--text-secondary);
    font-size: var(--font-size-lg);
}

.analytics-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: var(--space-xl);
}

.analytics-card {
    background: var(--card-gradient);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-lg);
    padding: var(--space-xl);
    backdrop-filter: blur(10px);
    box-shadow: var(--shadow-3d);
}

.analytics-card .card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-lg);
    padding-bottom: var(--space-md);
    border-bottom: 1px solid var(--border-light);
}

.analytics-card .card-header h3 {
    font-size: var(--font-size-xl);
    font-weight: 600;
    color: var(--text-primary);
}

.analytics-card .card-header i {
    font-size: var(--font-size-xl);
    color: var(--primary-color);
}

/* Confidence Bars */
.confidence-bars {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.confidence-bar {
    display: flex;
    align-items: center;
    gap: var(--space-md);
}

.bar-label {
    min-width: 80px;
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
}

.bar-container {
    flex: 1;
    height: 20px;
    background: var(--bg-tertiary);
    border-radius: var(--radius-sm);
    overflow: hidden;
    position: relative;
}

.bar-fill {
    height: 100%;
    background: var(--primary-gradient);
    border-radius: var(--radius-sm);
    transition: width 1s ease;
    position: relative;
}

.bar-value {
    min-width: 40px;
    text-align: right;
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: var(--text-primary);
}

/* Risk Indicators */
.risk-indicators {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.risk-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-md);
    background: rgba(0, 212, 255, 0.05);
    border-radius: var(--radius-md);
    border-left: 3px solid var(--danger-color);
}

.risk-info {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
}

.risk-name {
    font-weight: 600;
    color: var(--text-primary);
}

.risk-count {
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
}

.risk-percentage {
    font-size: var(--font-size-lg);
    font-weight: 700;
    color: var(--danger-color);
}

/* Performance Metrics */
.performance-metrics {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
}

.metric {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-md);
    background: rgba(0, 212, 255, 0.05);
    border-radius: var(--radius-md);
}

.metric-label {
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
}

.metric-value {
    font-size: var(--font-size-xl);
    font-weight: 700;
    color: var(--text-primary);
}

.metric-change {
    font-size: var(--font-size-sm);
    font-weight: 600;
}

.metric-change.positive {
    color: var(--success-color);
}

.metric-change.negative {
    color: var(--danger-color);
}

/* Responsive Design for Dashboard */
@media (max-width: 768px) {
    .dashboard-controls {
        flex-direction: column;
        gap: var(--space-sm);
    }
    
    .stats-grid {
        grid-template-columns: 1fr;
        gap: var(--space-md);
    }
    
    .charts-grid {
        grid-template-columns: 1fr;
        gap: var(--space-md);
    }
    
    .analytics-grid {
        grid-template-columns: 1fr;
        gap: var(--space-md);
    }
    
    .chart-header {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--space-sm);
    }
    
    .user-info-bar {
        flex-direction: column;
        gap: var(--space-xs);
    }
    
    .legend {
        justify-content: center;
    }
}

@media (max-width: 480px) {
    .dashboard-hero {
        padding: var(--space-lg) 0;
    }
    
    .welcome-section h1 {
        font-size: var(--font-size-2xl);
    }
    
    .dashboard-header h2 {
        font-size: var(--font-size-xl);
    }
    
    .stat-card {
        padding: var(--space-lg);
    }
    
    .chart-card {
        padding: var(--space-lg);
    }
    
    .analytics-card {
        padding: var(--space-lg);
    }
}

/* Pulse Animation */
@keyframes pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
}

/* Slide In Animation */
@keyframes slideInRight {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

/* ===== PREMIUM PAGE STYLES ===== */

/* Premium Navigation */
.premium-nav {
    background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
    border-bottom: 2px solid var(--primary-color);
    box-shadow: var(--shadow-lg), 0 0 30px rgba(0, 212, 255, 0.2);
}

.premium-nav .nav-link.active {
    background: var(--primary-gradient);
    color: var(--bg-primary);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-glow);
}

/* Premium Hero Section */
.premium-hero {
    background: var(--hero-gradient);
    padding: 4rem 0 6rem;
    position: relative;
    overflow: hidden;
    text-align: center;
}

.premium-hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at 50% 50%, rgba(0, 212, 255, 0.1) 0%, transparent 70%);
    pointer-events: none;
}

.premium-hero-content {
    position: relative;
    z-index: 2;
    max-width: 800px;
    margin: 0 auto;
}

.premium-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-sm);
    background: var(--primary-gradient);
    color: var(--bg-primary);
    padding: var(--space-sm) var(--space-lg);
    border-radius: 50px;
    font-weight: 600;
    font-size: var(--font-size-sm);
    margin-bottom: var(--space-xl);
    box-shadow: var(--shadow-glow);
    animation: pulse 2s infinite;
}

.premium-hero h1 {
    font-size: 3.5rem;
    font-weight: 700;
    margin-bottom: var(--space-lg);
    background: linear-gradient(135deg, var(--text-primary) 0%, var(--primary-color) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    line-height: 1.2;
}

.premium-hero p {
    font-size: var(--font-size-xl);
    color: var(--text-secondary);
    margin-bottom: var(--space-2xl);
    line-height: 1.6;
}

.hero-stats {
    display: flex;
    justify-content: center;
    gap: var(--space-2xl);
    flex-wrap: wrap;
}

.hero-stats .stat {
    text-align: center;
    padding: var(--space-lg);
    background: var(--card-gradient);
    border-radius: var(--radius-lg);
    border: 1px solid var(--border-light);
    backdrop-filter: blur(10px);
    box-shadow: var(--shadow-3d);
    transition: var(--transition-normal);
    min-width: 150px;
}

.hero-stats .stat:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-xl), var(--shadow-glow);
}

.hero-stats .stat-number {
    display: block;
    font-size: var(--font-size-3xl);
    font-weight: 700;
    color: var(--primary-color);
    margin-bottom: var(--space-xs);
}

.hero-stats .stat-label {
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
    font-weight: 500;
}

/* Pricing Section */
.pricing-section {
    padding: 6rem 0;
    background: var(--bg-secondary);
    position: relative;
}

.section-header {
    text-align: center;
    margin-bottom: var(--space-2xl);
}

.section-header h2 {
    font-size: var(--font-size-4xl);
    font-weight: 700;
    margin-bottom: var(--space-md);
    color: var(--text-primary);
}

.section-header p {
    font-size: var(--font-size-lg);
    color: var(--text-secondary);
    max-width: 600px;
    margin: 0 auto;
}

/* Pricing Toggle */
.pricing-toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-md);
    margin-bottom: var(--space-2xl);
}

.toggle-label {
    font-size: var(--font-size-lg);
    font-weight: 500;
    color: var(--text-secondary);
    transition: var(--transition-fast);
}

.toggle-switch {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 30px;
}

.toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.toggle-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--bg-tertiary);
    border: 2px solid var(--border-light);
    border-radius: 30px;
    transition: var(--transition-normal);
}

.toggle-slider:before {
    position: absolute;
    content: "";
    height: 20px;
    width: 20px;
    left: 3px;
    bottom: 2px;
    background: var(--text-secondary);
    border-radius: 50%;
    transition: var(--transition-normal);
}

input:checked + .toggle-slider {
    background: var(--primary-gradient);
    border-color: var(--primary-color);
}

input:checked + .toggle-slider:before {
    transform: translateX(28px);
    background: white;
}

.discount-badge {
    background: var(--success-color);
    color: white;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: var(--font-size-xs);
    font-weight: 600;
    margin-left: var(--space-xs);
}

/* Pricing Grid */
.pricing-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: var(--space-xl);
    max-width: 1200px;
    margin: 0 auto;
}

/* Pricing Cards */
.pricing-card {
    background: var(--card-gradient);
    border: 2px solid var(--border-light);
    border-radius: var(--radius-xl);
    padding: var(--space-2xl);
    position: relative;
    transition: var(--transition-normal);
    backdrop-filter: blur(15px);
    box-shadow: var(--shadow-3d);
    text-align: center;
}

.pricing-card:hover {
    transform: translateY(-10px);
    box-shadow: var(--shadow-xl), var(--shadow-glow);
    border-color: var(--primary-color);
}

.pricing-card.popular {
    border-color: var(--primary-color);
    box-shadow: var(--shadow-xl), var(--shadow-glow);
    transform: scale(1.05);
}

.pricing-card.popular:hover {
    transform: scale(1.05) translateY(-10px);
}

/* Popular Badge */
.popular-badge {
    position: absolute;
    top: -15px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--primary-gradient);
    color: white;
    padding: var(--space-sm) var(--space-lg);
    border-radius: 25px;
    font-size: var(--font-size-sm);
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    box-shadow: var(--shadow-md);
    animation: pulse 2s infinite;
}

/* Plan Header */
.plan-header {
    margin-bottom: var(--space-xl);
    padding-bottom: var(--space-lg);
    border-bottom: 1px solid var(--border-light);
}

.plan-header h3 {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: var(--space-md);
}

.plan-icon {
    width: 80px;
    height: 80px;
    margin: 0 auto var(--space-lg);
    background: var(--primary-gradient);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    color: white;
    box-shadow: var(--shadow-glow);
}

.basic-plan .plan-icon {
    background: linear-gradient(135deg, var(--success-color) 0%, #20b2aa 100%);
}

.enterprise-plan .plan-icon {
    background: linear-gradient(135deg, var(--warning-color) 0%, var(--accent-color) 100%);
}

/* Plan Price */
.plan-price {
    display: flex;
    align-items: baseline;
    justify-content: center;
    margin-bottom: var(--space-md);
    flex-wrap: wrap;
    gap: var(--space-xs);
}

.plan-price .currency {
    font-size: var(--font-size-xl);
    font-weight: 600;
    color: var(--text-secondary);
}

.plan-price .amount {
    font-size: 3rem;
    font-weight: 700;
    color: var(--primary-color);
    line-height: 1;
}

.plan-price .period {
    font-size: var(--font-size-lg);
    color: var(--text-secondary);
    font-weight: 500;
}

.plan-description {
    color: var(--text-secondary);
    font-size: var(--font-size-base);
    line-height: 1.5;
}

/* Plan Features */
.plan-features {
    margin-bottom: var(--space-xl);
    text-align: left;
}

.plan-features ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.plan-features li {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    padding: var(--space-sm) 0;
    font-size: var(--font-size-base);
    color: var(--text-primary);
    border-bottom: 1px solid rgba(0, 212, 255, 0.1);
}

.plan-features li:last-child {
    border-bottom: none;
}

.plan-features li i {
    width: 20px;
    text-align: center;
    font-size: var(--font-size-sm);
}

.plan-features li .fa-check {
    color: var(--success-color);
}

.plan-features li .fa-times {
    color: var(--text-muted);
}

.plan-features li.unavailable {
    color: var(--text-muted);
    opacity: 0.6;
}

/* Plan Button */
.plan-btn {
    width: 100%;
    padding: var(--space-md) var(--space-xl);
    font-size: var(--font-size-lg);
    font-weight: 600;
    border-radius: var(--radius-lg);
    transition: var(--transition-normal);
    border: 2px solid transparent;
    cursor: pointer;
    text-decoration: none;
    display: inline-block;
    text-align: center;
}

.basic-plan .plan-btn {
    background: linear-gradient(135deg, var(--success-color) 0%, #20b2aa 100%);
    color: white;
    box-shadow: var(--shadow-md);
}

.basic-plan .plan-btn:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg), 0 0 20px rgba(46, 213, 115, 0.4);
}

.pro-plan .plan-btn {
    background: var(--primary-gradient);
    color: white;
    box-shadow: var(--shadow-glow);
}

.pro-plan .plan-btn:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-xl), var(--shadow-glow-strong);
}

.enterprise-plan .plan-btn {
    background: linear-gradient(135deg, var(--warning-color) 0%, var(--accent-color) 100%);
    color: white;
    box-shadow: var(--shadow-md);
}

.enterprise-plan .plan-btn:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg), 0 0 20px rgba(255, 215, 0, 0.4);
}

/* Features Comparison Section */
.features-comparison-section {
    padding: 6rem 0;
    background: var(--bg-primary);
}

.comparison-table-wrapper {
    overflow-x: auto;
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-3d);
    background: var(--card-gradient);
    backdrop-filter: blur(15px);
}

.comparison-table {
    width: 100%;
    border-collapse: collapse;
    font-size: var(--font-size-base);
}

.comparison-table th,
.comparison-table td {
    padding: var(--space-lg);
    text-align: center;
    border-bottom: 1px solid var(--border-light);
}

.comparison-table th {
    background: var(--bg-tertiary);
    color: var(--text-primary);
    font-weight: 600;
    font-size: var(--font-size-lg);
    position: sticky;
    top: 0;
    z-index: 10;
}

.comparison-table td {
    color: var(--text-secondary);
    transition: var(--transition-fast);
}

.comparison-table tr:hover td {
    background: rgba(0, 212, 255, 0.05);
}

.comparison-table td:first-child {
    text-align: left;
    font-weight: 500;
    color: var(--text-primary);
}

.comparison-table .text-success {
    color: var(--success-color);
    font-size: var(--font-size-lg);
}

.comparison-table .text-muted {
    color: var(--text-muted);
    font-size: var(--font-size-lg);
}

/* FAQ Section */
.faq-section {
    padding: 6rem 0;
    background: var(--bg-secondary);
}

.faq-list {
    max-width: 800px;
    margin: 0 auto;
}

.faq-item {
    background: var(--card-gradient);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-lg);
    margin-bottom: var(--space-lg);
    backdrop-filter: blur(10px);
    box-shadow: var(--shadow-md);
    transition: var(--transition-normal);
}

.faq-item:hover {
    box-shadow: var(--shadow-lg);
    border-color: var(--primary-color);
}

.faq-question {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-xl);
    cursor: pointer;
    transition: var(--transition-fast);
}

.faq-question h3 {
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: var(--text-primary);
    margin: 0;
}

.faq-question i {
    color: var(--primary-color);
    transition: var(--transition-fast);
}

.faq-item.active .faq-question i {
    transform: rotate(180deg);
}

.faq-answer {
    padding: 0 var(--space-xl) var(--space-xl);
    display: none;
    border-top: 1px solid var(--border-light);
    margin-top: var(--space-md);
    padding-top: var(--space-lg);
}

.faq-item.active .faq-answer {
    display: block;
    animation: fadeIn 0.3s ease;
}

.faq-answer p {
    color: var(--text-secondary);
    line-height: 1.6;
    margin: 0;
}

/* Profile Showcase Section */
.profile-showcase-section {
    padding: 6rem 0;
    background: var(--bg-primary);
}

.testimonials-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: var(--space-xl);
    margin-bottom: var(--space-2xl);
}

.testimonial-card {
    background: var(--card-gradient);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-xl);
    padding: var(--space-2xl);
    backdrop-filter: blur(15px);
    box-shadow: var(--shadow-3d);
    transition: var(--transition-normal);
}

.testimonial-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-xl), var(--shadow-glow);
}

.testimonial-header {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    margin-bottom: var(--space-lg);
}

.user-avatar {
    width: 60px;
    height: 60px;
    background: var(--primary-gradient);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--font-size-xl);
    color: white;
    flex-shrink: 0;
}

.user-info {
    flex: 1;
}

.user-info h4 {
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: var(--space-xs);
}

.user-info p {
    font-size: var(--font-size-sm);
    color: var(--text-secondary);
    margin-bottom: var(--space-xs);
}

.company {
    font-size: var(--font-size-xs);
    color: var(--primary-color);
    font-weight: 500;
}

.rating {
    display: flex;
    gap: 2px;
}

.rating i {
    color: var(--warning-color);
    font-size: var(--font-size-sm);
}

.testimonial-content {
    margin-bottom: var(--space-lg);
}

.testimonial-content p {
    color: var(--text-secondary);
    line-height: 1.6;
    font-style: italic;
    font-size: var(--font-size-base);
}

.testimonial-stats {
    display: flex;
    gap: var(--space-xl);
    padding-top: var(--space-lg);
    border-top: 1px solid var(--border-light);
}

.testimonial-stats .stat {
    text-align: center;
}

.testimonial-stats .stat-number {
    display: block;
    font-size: var(--font-size-lg);
    font-weight: 700;
    color: var(--primary-color);
    margin-bottom: var(--space-xs);
}

.testimonial-stats .stat-label {
    font-size: var(--font-size-xs);
    color: var(--text-muted);
}

/* Trust Indicators */
.trust-indicators {
    display: flex;
    justify-content: center;
    gap: var(--space-2xl);
    flex-wrap: wrap;
    padding: var(--space-2xl);
    background: var(--card-gradient);
    border-radius: var(--radius-xl);
    backdrop-filter: blur(15px);
    box-shadow: var(--shadow-3d);
}

.trust-item {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    color: var(--text-secondary);
    font-size: var(--font-size-sm);
    font-weight: 500;
}

.trust-item i {
    color: var(--primary-color);
    font-size: var(--font-size-lg);
}

/* CTA Section */
.cta-section {
    padding: 6rem 0;
    background: var(--hero-gradient);
    text-align: center;
    position: relative;
    overflow: hidden;
}

.cta-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at 50% 50%, rgba(0, 212, 255, 0.15) 0%, transparent 70%);
    pointer-events: none;
}

.cta-content {
    position: relative;
    z-index: 2;
    max-width: 600px;
    margin: 0 auto;
}

.cta-content h2 {
    font-size: var(--font-size-4xl);
    font-weight: 700;
    margin-bottom: var(--space-lg);
    color: var(--text-primary);
}

.cta-content p {
    font-size: var(--font-size-xl);
    color: var(--text-secondary);
    margin-bottom: var(--space-2xl);
    line-height: 1.6;
}

.cta-buttons {
    display: flex;
    justify-content: center;
    gap: var(--space-lg);
    margin-bottom: var(--space-xl);
    flex-wrap: wrap;
}

.money-back-guarantee {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    color: var(--text-secondary);
    font-size: var(--font-size-sm);
}

.money-back-guarantee i {
    color: var(--success-color);
    font-size: var(--font-size-lg);
}

/* Responsive Design for Premium Page */
@media (max-width: 1024px) {
    .pricing-grid {
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: var(--space-lg);
    }
    
    .pricing-card.popular {
        transform: none;
    }
    
    .pricing-card.popular:hover {
        transform: translateY(-5px);
    }
}

@media (max-width: 768px) {
    .premium-hero h1 {
        font-size: 2.5rem;
    }
    
    .hero-stats {
        gap: var(--space-lg);
    }
    
    .hero-stats .stat {
        min-width: 120px;
        padding: var(--space-md);
    }
    
    .pricing-grid {
        grid-template-columns: 1fr;
        gap: var(--space-lg);
    }
    
    .testimonials-grid {
        grid-template-columns: 1fr;
        gap: var(--space-lg);
    }
    
    .trust-indicators {
        gap: var(--space-lg);
    }
    
    .cta-buttons {
        flex-direction: column;
        align-items: center;
    }
    
    .comparison-table-wrapper {
        font-size: var(--font-size-sm);
    }
    
    .comparison-table th,
    .comparison-table td {
        padding: var(--space-md);
    }
}

@media (max-width: 480px) {
    .premium-hero {
        padding: 3rem 0 4rem;
    }
    
    .premium-hero h1 {
        font-size: 2rem;
    }
    
    .premium-hero p {
        font-size: var(--font-size-lg);
    }
    
    .hero-stats {
        flex-direction: column;
        gap: var(--space-md);
    }
    
    .pricing-card {
        padding: var(--space-lg);
    }
    
    .plan-price .amount {
        font-size: 2.5rem;
    }
    
    .testimonial-card {
        padding: var(--space-lg);
    }
    
    .testimonial-header {
        flex-direction: column;
        text-align: center;
        gap: var(--space-sm);
    }
    
    .testimonial-stats {
        justify-content: center;
        gap: var(--space-lg);
    }
    
    .trust-indicators {
        flex-direction: column;
        gap: var(--space-md);
        text-align: center;
    }
    
    .cta-content h2 {
        font-size: var(--font-size-3xl);
    }
    
    .cta-content p {
        font-size: var(--font-size-lg);
    }
}

</style>

    
<style data-inline-from="css/login.css">
/* ===== LOGIN PAGE STYLES ===== */

/* CSS Variables Override for Login Page */
:root {
    --primary-bg: #1a1a1a;
    --secondary-bg: #2d2d2d;
    --card-bg: #333333;
    --text-primary: #ffffff;
    --text-secondary: #b0b0b0;
    --accent-color: #667eea;
    --gradient-bg: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
}

/* Login Container - Two Column Layout */
.login-container {
    min-height: 100vh;
    display: flex;
    background: var(--gradient-bg);
    position: relative;
    overflow: hidden;
}

/* Add subtle animated background */
.login-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(circle at 20% 30%, rgba(102, 126, 234, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(118, 75, 162, 0.1) 0%, transparent 50%);
    animation: loginGlow 8s ease-in-out infinite alternate;
    pointer-events: none;
}

@keyframes loginGlow {
    0% { opacity: 0.3; }
    100% { opacity: 0.7; }
}

/* Left Side - Branding */
.login-left {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem;
    position: relative;
    z-index: 1;
}

.login-brand {
    text-align: center;
    color: white;
    max-width: 500px;
    animation: fadeInLeft 0.8s ease-out;
}

@keyframes fadeInLeft {
    from {
        opacity: 0;
        transform: translateX(-30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.login-brand .logo {
    font-size: 4rem;
    margin-bottom: 1rem;
    color: var(--accent-color);
    animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
}

.login-brand h1 {
    font-size: 3rem;
    font-weight: 700;
    margin-bottom: 1rem;
    color: var(--text-primary);
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
}

.login-brand p {
    font-size: 1.2rem;
    opacity: 0.9;
    line-height: 1.6;
    margin-bottom: 2rem;
    color: var(--text-secondary);
}

.feature-list {
    list-style: none;
    padding: 0;
    text-align: left;
    max-width: 400px;
    margin: 0 auto;
}

.feature-list li {
    display: flex;
    align-items: center;
    margin-bottom: 1rem;
    font-size: 1.1rem;
    opacity: 0;
    animation: fadeInUp 0.6s ease-out forwards;
}

.feature-list li:nth-child(1) { animation-delay: 0.2s; }
.feature-list li:nth-child(2) { animation-delay: 0.4s; }
.feature-list li:nth-child(3) { animation-delay: 0.6s; }

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.feature-list i {
    margin-right: 1rem;
    color: #4CAF50;
    font-size: 1.2rem;
    flex-shrink: 0;
}

/* Right Side - Auth Form */
.login-right {
    flex: 1;
    background: var(--card-bg);
    backdrop-filter: blur(20px);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem;
    border-left: 1px solid #444;
    position: relative;
    z-index: 1;
    animation: fadeInRight 0.8s ease-out;
}

@keyframes fadeInRight {
    from {
        opacity: 0;
        transform: translateX(30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* Auth Container */
.auth-container {
    width: 100%;
    max-width: 450px;
}

.auth-header {
    text-align: center;
    margin-bottom: 2rem;
}

.auth-header h2 {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 0.5rem;
}

.auth-header p {
    color: var(--text-secondary);
    font-size: 1.1rem;
    margin: 0;
}

/* Theme Toggle */
.theme-toggle {
    position: absolute;
    top: 20px;
    right: 20px;
    background: var(--card-bg);
    border: 2px solid #444;
    color: var(--text-primary);
    padding: 10px;
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.3s ease;
    width: 50px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    z-index: 10;
}

.theme-toggle:hover {
    background: var(--accent-color);
    color: white;
    transform: scale(1.1) rotate(180deg);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
}

/* Auth Tabs */
.auth-tabs {
    display: flex;
    margin-bottom: 2rem;
    background: var(--secondary-bg);
    border-radius: 12px;
    padding: 4px;
}

.auth-tab {
    flex: 1;
    padding: 12px 20px;
    text-align: center;
    border: none;
    background: transparent;
    color: var(--text-secondary);
    font-weight: 500;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
}

.auth-tab:hover {
    color: var(--accent-color);
    transform: translateY(-1px);
}

.auth-tab.active {
    background: var(--card-bg);
    color: var(--accent-color);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.auth-tab.active::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 40%;
    height: 2px;
    background: var(--accent-color);
    border-radius: 2px;
}

/* Auth Form */
.auth-form {
    background: var(--card-bg);
    border-radius: 20px;
    padding: 2.5rem;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    border: 1px solid #444;
    transition: all 0.3s ease;
}

.auth-form:hover {
    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.4);
    transform: translateY(-2px);
}

/* Form Content */
.form-content {
    display: none;
    animation: fadeIn 0.4s ease-out;
}

.form-content.active {
    display: block !important;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Divider */
.divider {
    text-align: center;
    margin: 1.5rem 0;
    position: relative;
    color: #666;
    font-size: 0.875rem;
}

.divider::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 1px;
    background: #444;
}

.divider span {
    background: var(--card-bg);
    padding: 0 1rem;
    position: relative;
    z-index: 1;
}

/* Form Group */
.form-group {
    margin-bottom: 1.5rem;
}

.form-group label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 500;
    color: var(--text-primary);
    font-size: 0.95rem;
}

/* Form Input */
.form-input {
    width: 100%;
    padding: 15px 20px;
    border: 2px solid #444;
    border-radius: 12px;
    font-size: 1rem;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    background: var(--secondary-bg);
    color: var(--text-primary);
    font-family: inherit;
}

.form-input:focus {
    outline: none;
    border-color: var(--accent-color);
    background: var(--card-bg);
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    transform: translateY(-2px);
}

.form-input::placeholder {
    color: #888;
}

/* Password Input Container */
.password-input-container {
    position: relative;
}

.password-toggle {
    position: absolute;
    right: 15px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    color: var(--text-secondary);
    cursor: pointer;
    font-size: 1.1rem;
    transition: all 0.3s ease;
    padding: 5px;
}

.password-toggle:hover {
    color: var(--accent-color);
    transform: translateY(-50%) scale(1.1);
}

/* Form Options */
.form-options {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    flex-wrap: wrap;
    gap: 1rem;
}

.checkbox-container {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.checkbox-container input[type="checkbox"] {
    width: 18px;
    height: 18px;
    accent-color: var(--accent-color);
    cursor: pointer;
}

.checkbox-container label {
    font-size: 0.9rem;
    color: var(--text-secondary);
    cursor: pointer;
    user-select: none;
}

.forgot-password {
    color: var(--accent-color);
    text-decoration: none;
    font-weight: 500;
    font-size: 0.9rem;
    transition: all 0.3s ease;
}

.forgot-password:hover {
    text-decoration: underline;
    color: #7e92f7;
}

/* Auth Button (Submit) */
.auth-button {
    width: 100%;
    padding: 15px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    border-radius: 12px;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    margin-bottom: 1.5rem;
    position: relative;
    overflow: hidden;
}

.auth-button::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
}

.auth-button:hover::before {
    width: 300px;
    height: 300px;
}

.auth-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
}

.auth-button:active {
    transform: translateY(0);
}

.auth-button:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
}

.auth-button:disabled:hover {
    box-shadow: none;
}

/* Social Login Buttons */
.social-login {
    display: flex;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.social-btn {
    flex: 1;
    padding: 12px;
    border: 2px solid #444;
    border-radius: 12px;
    background: var(--card-bg);
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    font-weight: 500;
    font-size: 0.95rem;
}

.social-btn:hover {
    border-color: var(--accent-color);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.social-btn.google:hover {
    border-color: #db4437;
    color: #db4437;
}

.social-btn.github:hover {
    border-color: #333;
    color: #f0f0f0;
}

.social-btn i {
    font-size: 1.1rem;
}

/* Demo and Guest Login Buttons */
.demo-login {
    display: flex;
    gap: 1rem;
    margin-top: 1rem;
}

.demo-btn,
.guest-btn {
    flex: 1;
    padding: 0.75rem 1rem;
    border: 2px solid;
    border-radius: 8px;
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

.demo-btn {
    background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
    color: white;
    border-color: #28a745;
}

.demo-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 15px rgba(40, 167, 69, 0.3);
    filter: brightness(1.1);
}

.guest-btn {
    background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
    color: white;
    border-color: #6c757d;
}

.guest-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 15px rgba(108, 117, 125, 0.3);
    filter: brightness(1.1);
}

/* Alert Messages */
.alert {
    padding: 12px 16px;
    border-radius: 8px;
    margin-bottom: 1rem;
    display: none;
    animation: slideInDown 0.4s ease-out;
    font-size: 0.9rem;
}

@keyframes slideInDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.alert.show {
    display: block;
}

.alert.success {
    background: #d4edda;
    color: #155724;
    border: 1px solid #c3e6cb;
}

.alert.error {
    background: #f8d7da;
    color: #721c24;
    border: 1px solid #f5c6cb;
}

.alert.info {
    background: #d1ecf1;
    color: #0c5460;
    border: 1px solid #bee5eb;
}

/* Loading State */
.auth-button:disabled {
    position: relative;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* Accessibility - Reduced Motion */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Responsive Design */
@media (max-width: 968px) {
    .login-container {
        flex-direction: column;
    }

    .login-left,
    .login-right {
        flex: none;
        border-left: none;
    }

    .login-left {
        padding: 2rem 1rem;
        min-height: auto;
    }

    .login-brand h1 {
        font-size: 2rem;
    }

    .feature-list {
        display: none;
    }

    .auth-form {
        padding: 2rem 1.5rem;
    }
}

@media (max-width: 480px) {
    .login-container::before {
        display: none;
    }

    .login-left {
        padding: 1.5rem 1rem;
    }

    .login-brand .logo {
        font-size: 3rem;
    }

    .login-brand h1 {
        font-size: 1.75rem;
    }

    .login-brand p {
        font-size: 1rem;
    }

    .auth-header h2 {
        font-size: 2rem;
    }

    .auth-form {
        padding: 1.5rem 1rem;
        border-radius: 16px;
    }

    .form-input {
        padding: 12px 16px;
    }

    .social-login {
        flex-direction: column;
    }

    .demo-login {
        flex-direction: column;
    }

    .form-options {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.75rem;
    }

    .theme-toggle {
        width: 45px;
        height: 45px;
        top: 15px;
        right: 15px;
    }
}

</style>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-bg: #1a1a1a;
            --secondary-bg: #2d2d2d;
            --card-bg: #333333;
            --text-primary: #ffffff;
            --text-secondary: #b0b0b0;
            --accent-color: #667eea;
            --success-color: #28a745;
            --error-color: #dc3545;
            --gradient-bg: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
        }

        .login-container {
            min-height: 100vh;
            display: flex;
            background: var(--gradient-bg);
            position: relative;
            overflow: hidden;
        }

        .login-left {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            position: relative;
        }

        .login-right {
            flex: 1;
            background: var(--card-bg);
            backdrop-filter: blur(20px);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            border-left: 1px solid #444;
        }

        .login-brand {
            text-align: center;
            color: white;
            max-width: 500px;
        }

        .login-brand .logo {
            font-size: 4rem;
            margin-bottom: 1rem;
            color: var(--accent-color);
        }

        .login-brand h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .login-brand p {
            font-size: 1.2rem;
            opacity: 0.9;
            line-height: 1.6;
            margin-bottom: 2rem;
            color: var(--text-secondary);
        }

        .feature-list {
            list-style: none;
            padding: 0;
            text-align: left;
        }

        .feature-list li {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .feature-list i {
            margin-right: 1rem;
            color: #4CAF50;
            font-size: 1.2rem;
        }

        .auth-container {
            width: 100%;
            max-width: 450px;
        }

        .auth-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .auth-header h2 {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .auth-header p {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        .theme-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--card-bg);
            border: 2px solid #444;
            color: var(--text-primary);
            padding: 10px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            z-index: 10;
        }

        .theme-toggle:hover {
            background: var(--accent-color);
            color: white;
            transform: scale(1.1);
        }

        .auth-tabs {
            display: flex;
            margin-bottom: 2rem;
            background: var(--secondary-bg);
            border-radius: 12px;
            padding: 4px;
        }

        .auth-tab {
            flex: 1;
            padding: 12px 20px;
            text-align: center;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            font-weight: 500;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .auth-tab.active {
            background: var(--card-bg);
            color: var(--accent-color);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .auth-form {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 2.5rem;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            border: 1px solid #444;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-primary);
        }

        .form-input {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #444;
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: var(--secondary-bg);
            color: var(--text-primary);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--accent-color);
            background: var(--card-bg);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-input::placeholder {
            color: #888;
        }

        .password-input-container {
            position: relative;
        }

        .password-toggle {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 1.1rem;
        }

        .password-toggle:hover {
            color: var(--accent-color);
        }

        .form-options {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .checkbox-container {
            display: flex;
            align-items: center;
        }

        .checkbox-container input[type="checkbox"] {
            margin-right: 0.5rem;
        }

        .forgot-password {
            color: var(--accent-color);
            text-decoration: none;
            font-weight: 500;
        }

        .forgot-password:hover {
            text-decoration: underline;
        }

        .auth-button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 1.5rem;
        }

        .auth-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .auth-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .divider {
            text-align: center;
            margin: 1.5rem 0;
            position: relative;
            color: #666;
        }

        .divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: #444;
        }

        .divider span {
            background: var(--card-bg);
            padding: 0 1rem;
        }

        .social-login {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .social-btn {
            flex: 1;
            padding: 12px;
            border: 2px solid #444;
            border-radius: 12px;
            background: var(--card-bg);
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-weight: 500;
        }

        .social-btn:hover {
            border-color: var(--accent-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .demo-login {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .demo-btn, .guest-btn {
            flex: 1;
            padding: 0.75rem 1rem;
            border: 2px solid;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .demo-btn {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            border-color: #28a745;
        }

        .demo-btn:hover {
            transform: translateY(-2px);
        }

        .guest-btn {
            background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
            color: white;
            border-color: #6c757d;
        }

        .guest-btn:hover {
            transform: translateY(-2px);
        }

        .form-content {
            display: none;
        }

        .form-content.active {
            display: block !important;
        }

        /* Ensure visibility even if other styles override */
        .auth-form .form-content.active { display: block !important; }

        .alert {
            padding: 12px 16px;
            border-radius: 8px;
            margin-bottom: 1rem;
            display: none;
        }

        .alert.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .alert.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .alert.show {
            display: block;
        }

        @media (max-width: 768px) {
            .login-container {
                flex-direction: column;
            }

            .login-left {
                flex: none;
                padding: 1rem;
            }

            .login-brand h1 {
                font-size: 2rem;
            }

            .feature-list {
                display: none;
            }

            .auth-form {
                padding: 2rem 1.5rem;
            }

            .social-login {
                flex-direction: column;
            }
        }
    </style>
    <script src="js/apiService.js"></script>
</head>
<body>
    <div class="login-container">
        <!-- Theme Toggle Button -->
        <button class="theme-toggle" id="theme-toggle" title="Toggle Dark/Light Mode">
            <i class="fas fa-sun"></i>
        </button>
        
        <!-- Left Side - Branding -->
        <div class="login-left">
            <div class="login-brand">
                <div class="logo">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <h1>SecureMessage AI</h1>
                <p>Advanced AI-powered spam detection and cybersecurity solutions to protect your digital communications.</p>
                
                <ul class="feature-list">
                    <li>
                        <i class="fas fa-check-circle"></i>
                        <span>99.9% Spam Detection Accuracy</span>
                    </li>
                    <li>
                        <i class="fas fa-check-circle"></i>
                        <span>Real-time Threat Protection</span>
                    </li>
                    <li>
                        <i class="fas fa-check-circle"></i>
                        <span>Advanced AI Classification</span>
                    </li>
                    <li>
                        <i class="fas fa-check-circle"></i>
                        <span>Cross-platform Security</span>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Right Side - Authentication -->
        <div class="login-right">
            <div class="auth-container">
                <div class="auth-header">
                    <h2>Welcome</h2>
                    <p>Sign in to your account or create a new one</p>
                </div>

                <!-- Alert Messages -->
                <div id="alert-message" class="alert">
                    <span id="alert-text"></span>
                </div>

                <!-- Auth Tabs -->
                <div class="auth-tabs">
                    <button class="auth-tab active" data-tab="login">Sign In</button>
                    <button class="auth-tab" data-tab="signup">Sign Up</button>
                </div>

                <div class="auth-form">
                    <!-- Login Form -->
                    <div id="login-content" class="form-content active">
                        <form id="login-form">
                            <div class="form-group">
                                <label for="login-email">Email Address</label>
                                <input type="email" id="login-email" class="form-input" placeholder="Enter your email" required>
                            </div>

                            <div class="form-group">
                                <label for="login-password">Password</label>
                                <div class="password-input-container">
                                    <input type="password" id="login-password" class="form-input" placeholder="Enter your password" required>
                                    <button type="button" class="password-toggle" data-target="login-password">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                            </div>

                            <div class="form-options">
                                <div class="checkbox-container">
                                    <input type="checkbox" id="remember-me">
                                    <label for="remember-me">Remember me</label>
                                </div>
                                <a href="#" class="forgot-password">Forgot password?</a>
                            </div>

                            <button type="submit" class="auth-button">
                                <i class="fas fa-sign-in-alt"></i>
                                Sign In
                            </button>
                        </form>

                        <div class="divider">
                            <span>or continue with</span>
                        </div>

                        <div class="social-login">
                            <button class="social-btn google">
                                <i class="fab fa-google"></i>
                                Google
                            </button>
                            <button class="social-btn github">
                                <i class="fab fa-github"></i>
                                GitHub
                            </button>
                        </div>
                    </div>

                    <!-- Signup Form -->
                    <div id="signup-content" class="form-content">
                        <form id="signup-form">
                            <div class="form-group">
                                <label for="signup-name">Full Name</label>
                                <input type="text" id="signup-name" class="form-input" placeholder="Enter your full name" required>
                            </div>

                            <div class="form-group">
                                <label for="signup-email">Email Address</label>
                                <input type="email" id="signup-email" class="form-input" placeholder="Enter your email" required>
                            </div>

                            <div class="form-group">
                                <label for="signup-password">Password</label>
                                <div class="password-input-container">
                                    <input type="password" id="signup-password" class="form-input" placeholder="Create a password" required>
                                    <button type="button" class="password-toggle" data-target="signup-password">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="confirm-password">Confirm Password</label>
                                <div class="password-input-container">
                                    <input type="password" id="confirm-password" class="form-input" placeholder="Confirm your password" required>
                                    <button type="button" class="password-toggle" data-target="confirm-password">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </div>
                            </div>

                            <div class="form-options">
                                <div class="checkbox-container">
                                    <input type="checkbox" id="agree-terms" required>
                                    <label for="agree-terms">I agree to the <a href="#" class="forgot-password">Terms of Service</a></label>
                                </div>
                            </div>

                            <button type="submit" class="auth-button">
                                <i class="fas fa-user-plus"></i>
                                Create Account
                            </button>
                        </form>

                        <div class="divider">
                            <span>or continue with</span>
                        </div>

                        <div class="social-login">
                            <button class="social-btn google">
                                <i class="fab fa-google"></i>
                                Google
                            </button>
                            <button class="social-btn github">
                                <i class="fab fa-github"></i>
                                GitHub
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    
<script data-inline-from="js/globalErrorFix.js">
// Global Error Fix - Comprehensive error prevention and handling
(function() {
    'use strict';

    // Global error handler
    window.addEventListener('error', function(event) {
        // Suppress common non-critical errors
        const suppressedErrors = [
            'ResizeObserver loop limit exceeded',
            'Non-Error promise rejection captured',
            'Script error',
            'Network request failed',
            'Loading chunk',
            'Loading CSS chunk'
        ];

        const shouldSuppress = suppressedErrors.some(error => 
            event.message && event.message.includes(error)
        );

        if (shouldSuppress) {
            event.preventDefault();
            return false;
        }

        // Log other errors for debugging
        console.warn('Caught error:', event.error || event.message);
        return false;
    });

    // Handle unhandled promise rejections
    window.addEventListener('unhandledrejection', function(event) {
        console.warn('Unhandled promise rejection:', event.reason);
        event.preventDefault();
    });

    // Ensure all critical functions exist
    function ensureCriticalFunctions() {
        // Authentication functions
        if (typeof window.getCurrentUser !== 'function') {
            window.getCurrentUser = function() {
                try {
                    const userData = localStorage.getItem('currentUser');
                    return userData ? JSON.parse(userData) : null;
                } catch (e) {
                    return null;
                }
            };
        }

        if (typeof window.updateAuthUI !== 'function') {
            window.updateAuthUI = function() {
                if (window.authManager && typeof window.authManager.updateNavigation === 'function') {
                    window.authManager.updateNavigation();
                }
            };
        }

        if (typeof window.logout !== 'function') {
            window.logout = function() {
                localStorage.removeItem('authToken');
                localStorage.removeItem('currentUser');
                localStorage.removeItem('refreshToken');
                window.location.href = 'index.html';
            };
        }

        // Utility functions
        if (typeof window.showNotification !== 'function') {
            window.showNotification = function(message, type = 'info') {
                console.log(`${type.toUpperCase()}: ${message}`);
                
                // Try to show a simple alert if no notification system exists
                if (type === 'error') {
                    alert('Error: ' + message);
                }
            };
        }

        if (typeof window.showAlert !== 'function') {
            window.showAlert = function(message, type = 'info') {
                window.showNotification(message, type);
            };
        }

        // Navigation functions
        if (typeof window.toggleMobileMenu !== 'function') {
            window.toggleMobileMenu = function() {
                const hamburger = document.querySelector('.hamburger');
                const navMenu = document.querySelector('.nav-menu');
                
                if (hamburger && navMenu) {
                    hamburger.classList.toggle('active');
                    navMenu.classList.toggle('active');
                }
            };
        }

        if (typeof window.closeMobileMenu !== 'function') {
            window.closeMobileMenu = function() {
                const hamburger = document.querySelector('.hamburger');
                const navMenu = document.querySelector('.nav-menu');
                
                if (hamburger && navMenu) {
                    hamburger.classList.remove('active');
                    navMenu.classList.remove('active');
                }
            };
        }

        // Profile functions
        if (typeof window.handleProfileCircleClick !== 'function') {
            window.handleProfileCircleClick = function(event) {
                event.preventDefault();
                
                // Try to toggle dropdown first
                const dropdown = document.querySelector('.user-dropdown');
                if (dropdown) {
                    dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
                } else {
                    // Fallback to profile page navigation
                    window.location.href = 'profile.html';
                }
            };
        }

        // Activity logging
        if (typeof window.logActivity !== 'function') {
            window.logActivity = function(type, action, details = {}) {
                try {
                    const activity = {
                        type: type,
                        action: action,
                        details: details,
                        timestamp: new Date().toISOString(),
                        page: window.location.pathname
                    };
                    
                    const activities = JSON.parse(localStorage.getItem('userActivities') || '[]');
                    activities.unshift(activity);
                    
                    // Keep only last 100 activities
                    if (activities.length > 100) {
                        activities.splice(100);
                    }
                    
                    localStorage.setItem('userActivities', JSON.stringify(activities));
                } catch (e) {
                    console.warn('Failed to log activity:', e);
                }
            };
        }

        // Storage utilities
        if (typeof window.Storage === 'undefined') {
            window.Storage = {
                get: function(key) {
                    try {
                        const value = localStorage.getItem(key);
                        return value ? JSON.parse(value) : null;
                    } catch (e) {
                        return null;
                    }
                },
                set: function(key, value) {
                    try {
                        localStorage.setItem(key, JSON.stringify(value));
                        return true;
                    } catch (e) {
                        return false;
                    }
                },
                remove: function(key) {
                    try {
                        localStorage.removeItem(key);
                        return true;
                    } catch (e) {
                        return false;
                    }
                }
            };
        }

        // Form validation
        if (typeof window.validateForm !== 'function') {
            window.validateForm = function(formElement) {
                if (!formElement) return false;
                
                const inputs = formElement.querySelectorAll('input[required], textarea[required], select[required]');
                let isValid = true;
                
                inputs.forEach(input => {
                    if (!input.value.trim()) {
                        isValid = false;
                        input.classList.add('error');
                    } else {
                        input.classList.remove('error');
                    }
                });
                
                return isValid;
            };
        }

        // Safe DOM query functions
        if (typeof window.safeQuerySelector !== 'function') {
            window.safeQuerySelector = function(selector) {
                try {
                    return document.querySelector(selector);
                } catch (e) {
                    console.warn('Invalid selector:', selector);
                    return null;
                }
            };
        }

        if (typeof window.safeQuerySelectorAll !== 'function') {
            window.safeQuerySelectorAll = function(selector) {
                try {
                    return document.querySelectorAll(selector);
                } catch (e) {
                    console.warn('Invalid selector:', selector);
                    return [];
                }
            };
        }

        // Safe event listener
        if (typeof window.safeAddEventListener !== 'function') {
            window.safeAddEventListener = function(element, event, handler) {
                if (element && typeof element.addEventListener === 'function') {
                    try {
                        element.addEventListener(event, handler);
                        return true;
                    } catch (e) {
                        console.warn('Failed to add event listener:', e);
                        return false;
                    }
                }
                return false;
            };
        }
    }

    // Fix common DOM issues
    function fixCommonDOMIssues() {
        // Ensure all forms have proper structure
        const forms = document.querySelectorAll('form');
        forms.forEach(form => {
            if (!form.getAttribute('novalidate')) {
                form.setAttribute('novalidate', 'true');
            }
        });

        // Fix missing alt attributes on images
        const images = document.querySelectorAll('img:not([alt])');
        images.forEach(img => {
            img.setAttribute('alt', '');
        });

        // Ensure all buttons have proper type
        const buttons = document.querySelectorAll('button:not([type])');
        buttons.forEach(button => {
            button.setAttribute('type', 'button');
        });

        // Fix missing href on anchor tags
        const anchors = document.querySelectorAll('a:not([href])');
        anchors.forEach(anchor => {
            anchor.setAttribute('href', '#');
        });
    }

    // Initialize error prevention
    function initializeErrorPrevention() {
        ensureCriticalFunctions();
        
        // Wait for DOM to be ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', fixCommonDOMIssues);
        } else {
            fixCommonDOMIssues();
        }

        // Set up mobile menu handlers if they don't exist
        setTimeout(() => {
            const hamburger = document.querySelector('.hamburger');
            const navMenu = document.querySelector('.nav-menu');
            
            if (hamburger && navMenu && !hamburger.hasAttribute('data-initialized')) {
                hamburger.setAttribute('data-initialized', 'true');
                hamburger.addEventListener('click', window.toggleMobileMenu);
                
                // Close menu when clicking nav links
                const navLinks = document.querySelectorAll('.nav-link');
                navLinks.forEach(link => {
                    link.addEventListener('click', window.closeMobileMenu);
                });
            }

            // Set up profile circle handlers
            const profileCircles = document.querySelectorAll('.profile-circle');
            profileCircles.forEach(circle => {
                if (!circle.hasAttribute('data-initialized')) {
                    circle.setAttribute('data-initialized', 'true');
                    circle.addEventListener('click', window.handleProfileCircleClick);
                }
            });
        }, 100);

        console.log('✅ Global error prevention initialized');
    }

    // Start initialization
    initializeErrorPrevention();

})();

</script>

    
<script data-inline-from="js/missingFilesFix.js">
// Missing Files Fix - Creates stub files for missing JavaScript references
// This prevents 404 errors and script loading failures

(function() {
    'use strict';

    // List of files that might be missing but referenced in HTML
    const requiredFiles = [
        'utils.js',
        'storage.js',
        'errorFix.js',
        'profileClickHandler.js',
        'userInterface.js',
        'main.js',
        'navigation.js',
        'spam-detector.js',
        'ai-classifier.js',
        'advanced-detector.js',
        'nav-profile.js',
        'learn.js',
        'auth.js',
        'enhanced-auth.js',
        'dashboard.js',
        'profile-editor.js',
        'chatbot.js',
        'community.js',
        'contact.js',
        'download.js',
        'extension.js',
        'fake-emails.js',
        'faq.js',
        'premium.js',
        'report-scam.js'
    ];

    // Check if files are loaded and create stubs if needed
    function createMissingFileStubs() {
        // Create stub functions for commonly missing functions
        const stubFunctions = {
            // Utils stubs
            isValidEmail: function(email) {
                return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
            },
            validatePassword: function(password) {
                return { isValid: password && password.length >= 6, strength: 3, feedback: 'Valid' };
            },
            formatDate: function(date) {
                return date ? new Date(date).toLocaleDateString() : '';
            },
            generateId: function() {
                return Date.now().toString(36) + Math.random().toString(36).substr(2);
            },
            showNotification: function(message, type) {
                console.log(`${type}: ${message}`);
                if (typeof alert !== 'undefined') alert(message);
            },
            copyToClipboard: function(text) {
                try {
                    if (navigator.clipboard) {
                        return navigator.clipboard.writeText(text);
                    }
                    return Promise.resolve(false);
                } catch (e) {
                    return Promise.resolve(false);
                }
            },
            debounce: function(func, wait) {
                let timeout;
                return function(...args) {
                    clearTimeout(timeout);
                    timeout = setTimeout(() => func.apply(this, args), wait);
                };
            },
            throttle: function(func, limit) {
                let inThrottle;
                return function(...args) {
                    if (!inThrottle) {
                        func.apply(this, args);
                        inThrottle = true;
                        setTimeout(() => inThrottle = false, limit);
                    }
                };
            },

            // Storage stubs
            Storage: {
                get: function(key, defaultValue) {
                    try {
                        const item = localStorage.getItem(key);
                        return item ? JSON.parse(item) : defaultValue;
                    } catch (e) {
                        return defaultValue;
                    }
                },
                set: function(key, value) {
                    try {
                        localStorage.setItem(key, JSON.stringify(value));
                        return true;
                    } catch (e) {
                        return false;
                    }
                },
                remove: function(key) {
                    try {
                        localStorage.removeItem(key);
                        return true;
                    } catch (e) {
                        return false;
                    }
                }
            },

            // Auth stubs
            getCurrentUser: function() {
                try {
                    const user = localStorage.getItem('currentUser');
                    return user ? JSON.parse(user) : null;
                } catch (e) {
                    return null;
                }
            },
            showAlert: function(message, type) {
                console.log(`${type || 'info'}: ${message}`);
                if (typeof alert !== 'undefined') alert(message);
            },
            updateAuthUI: function() {
                console.log('Auth UI update called');
            },
            logout: function() {
                try {
                    localStorage.removeItem('currentUser');
                    localStorage.removeItem('authToken');
                    window.location.href = 'index.html';
                } catch (e) {
                    console.error('Logout error:', e);
                }
            },

            // Activity stubs
            logActivity: function(type, description, level) {
                console.log(`Activity: ${type} - ${description} (${level || 'info'})`);
            },
            incrementMessagesCount: function() {
                try {
                    let count = parseInt(localStorage.getItem('messagesChecked') || '0');
                    count++;
                    localStorage.setItem('messagesChecked', count.toString());
                } catch (e) {
                    console.error('Error incrementing messages count:', e);
                }
            },

            // Navigation stubs
            toggleMobileMenu: function() {
                const hamburger = document.getElementById('hamburger');
                const navMenu = document.getElementById('nav-menu');
                if (hamburger && navMenu) {
                    hamburger.classList.toggle('active');
                    navMenu.classList.toggle('active');
                }
            },
            closeMobileMenu: function() {
                const hamburger = document.getElementById('hamburger');
                const navMenu = document.getElementById('nav-menu');
                if (hamburger && navMenu) {
                    hamburger.classList.remove('active');
                    navMenu.classList.remove('active');
                }
            },
            scrollToSpamDetector: function() {
                const detector = document.getElementById('spam-detector');
                if (detector) {
                    detector.scrollIntoView({ behavior: 'smooth' });
                }
            },

            // Chart stubs
            initializeCharts: function() {
                console.log('Charts initialization skipped - Chart.js not available');
            },
            updateCharts: function() {
                console.log('Charts update skipped - Chart.js not available');
            },

            // Spam detector stubs
            analyzeMessage: function(message) {
                const spamKeywords = ['lottery', 'winner', 'prize', 'urgent', 'click here', 'free money'];
                const lowerMessage = message.toLowerCase();
                const spamScore = spamKeywords.reduce((score, keyword) => {
                    return lowerMessage.includes(keyword) ? score + 0.2 : score;
                }, 0);
                
                return {
                    isSpam: spamScore > 0.3,
                    confidence: Math.min(spamScore, 1),
                    riskLevel: spamScore > 0.6 ? 'high' : spamScore > 0.3 ? 'medium' : 'low',
                    detectedPatterns: spamKeywords.filter(k => lowerMessage.includes(k))
                };
            },

            // Profile stubs
            handleProfileCircleClick: function(e) {
                e.preventDefault();
                window.location.href = 'profile.html';
            },
            handleSafeLogout: function() {
                if (confirm('Are you sure you want to logout?')) {
                    try {
                        localStorage.clear();
                        window.location.href = 'index.html';
                    } catch (e) {
                        window.location.href = 'index.html';
                    }
                }
            },

            // Animation stubs
            animateCounter: function(element, targetValue, duration) {
                if (!element) return;
                if (typeof element === 'string') {
                    element = document.getElementById(element);
                }
                if (element) {
                    element.textContent = targetValue.toLocaleString();
                }
            },

            // Form validation stubs
            validateForm: function(form) {
                if (!form) return false;
                const inputs = form.querySelectorAll('input[required]');
                let isValid = true;
                inputs.forEach(input => {
                    if (!input.value.trim()) {
                        isValid = false;
                        input.style.borderColor = '#dc3545';
                    } else {
                        input.style.borderColor = '#28a745';
                    }
                });
                return isValid;
            }
        };

        // Add stub functions to window if they don't exist
        Object.entries(stubFunctions).forEach(([name, func]) => {
            if (typeof window[name] === 'undefined') {
                window[name] = func;
            }
        });

        console.log('Missing file stubs created successfully');
    }

    // Initialize DOM helpers
    function initializeDOMHelpers() {
        // Safe query selector
        if (typeof window.safeQuerySelector === 'undefined') {
            window.safeQuerySelector = function(selector) {
                try {
                    return document.querySelector(selector);
                } catch (e) {
                    return null;
                }
            };
        }

        // Safe query selector all
        if (typeof window.safeQuerySelectorAll === 'undefined') {
            window.safeQuerySelectorAll = function(selector) {
                try {
                    return document.querySelectorAll(selector);
                } catch (e) {
                    return [];
                }
            };
        }

        // Safe event listener
        if (typeof window.safeAddEventListener === 'undefined') {
            window.safeAddEventListener = function(element, event, handler) {
                if (element && typeof element.addEventListener === 'function') {
                    try {
                        element.addEventListener(event, handler);
                        return true;
                    } catch (e) {
                        return false;
                    }
                }
                return false;
            };
        }
    }

    // Initialize basic functionality
    function initializeBasicFunctionality() {
        try {
            // Mobile menu functionality
            const hamburger = document.getElementById('hamburger');
            const navMenu = document.getElementById('nav-menu');
            
            if (hamburger && navMenu && !hamburger.hasAttribute('data-initialized')) {
                hamburger.addEventListener('click', function(e) {
                    e.stopPropagation();
                    hamburger.classList.toggle('active');
                    navMenu.classList.toggle('active');
                });
                hamburger.setAttribute('data-initialized', 'true');
            }

            // Profile circle clicks
            const profileCircles = document.querySelectorAll('.profile-circle');
            profileCircles.forEach(circle => {
                if (!circle.hasAttribute('data-initialized')) {
                    circle.addEventListener('click', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        
                        const dropdown = circle.closest('.user-menu, .nav-profile')?.querySelector('.dropdown-menu');
                        if (dropdown) {
                            dropdown.classList.toggle('show');
                        } else {
                            window.location.href = 'profile.html';
                        }
                    });
                    circle.setAttribute('data-initialized', 'true');
                }
            });

            // Logout buttons
            const logoutButtons = document.querySelectorAll('.logout-btn, [data-action="logout"]');
            logoutButtons.forEach(button => {
                if (!button.hasAttribute('data-initialized')) {
                    button.addEventListener('click', function(e) {
                        e.preventDefault();
                        if (confirm('Are you sure you want to logout?')) {
                            try {
                                localStorage.removeItem('currentUser');
                                localStorage.removeItem('authToken');
                                window.location.href = 'index.html';
                            } catch (error) {
                                window.location.href = 'index.html';
                            }
                        }
                    });
                    button.setAttribute('data-initialized', 'true');
                }
            });

            // Close dropdowns when clicking outside
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.user-menu, .nav-profile')) {
                    const dropdowns = document.querySelectorAll('.dropdown-menu');
                    dropdowns.forEach(dropdown => {
                        dropdown.classList.remove('show');
                    });
                }
            });

        } catch (error) {
            console.warn('Error initializing basic functionality:', error);
        }
    }

    // Run initialization
    function initialize() {
        createMissingFileStubs();
        initializeDOMHelpers();
        
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeBasicFunctionality);
        } else {
            initializeBasicFunctionality();
        }
    }

    // Initialize immediately
    initialize();

    console.log('Missing Files Fix loaded - All stub functions created');
})();

</script>

    
<script data-inline-from="js/pageValidator.js">
// Page Validator - Ensures all pages are error-free and properly configured
// This script validates that all necessary scripts are loaded and functions are available

(function() {
    'use strict';

    // List of required functions that should be available on all pages
    const requiredFunctions = [
        'isValidEmail',
        'validatePassword', 
        'formatDate',
        'generateId',
        'showNotification',
        'getCurrentUser',
        'showAlert',
        'updateAuthUI',
        'logout',
        'Storage',
        'safeQuerySelector',
        'safeQuerySelectorAll',
        'safeAddEventListener',
        'toggleMobileMenu',
        'closeMobileMenu',
        'handleProfileCircleClick',
        'logActivity',
        'incrementMessagesCount'
    ];

    // List of required DOM elements that should exist on most pages
    const commonElements = [
        '.navbar',
        '.footer',
        '#hamburger',
        '#nav-menu'
    ];

    // Page-specific validation rules
    const pageValidation = {
        'index.html': {
            requiredElements: ['#spam-detector', '.hero'],
            requiredScripts: ['spam-detector.js', 'ai-classifier.js', 'advanced-detector.js']
        },
        'dashboard.html': {
            requiredElements: ['.dashboard-header', '.stats-grid'],
            requiredScripts: ['dashboard.js', 'navigation.js']
        },
        'login.html': {
            requiredElements: ['#login-form', '#signup-form'],
            requiredScripts: ['auth.js', 'enhanced-auth.js']
        },
        'profile.html': {
            requiredElements: ['.profile-header', '.profile-tabs'],
            requiredScripts: ['enhanced-auth.js', 'nav-profile.js', 'profile-editor.js']
        },
        'learn.html': {
            requiredElements: ['.learn-hero', '.articles-grid'],
            requiredScripts: ['learn.js']
        },
        'community.html': {
            requiredElements: ['.community-hero', '.forum-preview'],
            requiredScripts: ['community.js', 'chatbot.js']
        }
    };

    // Validation results
    let validationResults = {
        functions: {},
        elements: {},
        scripts: {},
        errors: [],
        warnings: [],
        passed: true
    };

    // Main validation function
    function validatePage() {
        console.log('🔍 Starting page validation...');
        
        validateRequiredFunctions();
        validateCommonElements();
        validatePageSpecificElements();
        validateScriptLoading();
        validateErrorHandling();
        
        displayValidationResults();
        
        return validationResults.passed;
    }

    // Validate that all required functions are available
    function validateRequiredFunctions() {
        console.log('📋 Validating required functions...');
        
        requiredFunctions.forEach(funcName => {
            const isAvailable = typeof window[funcName] !== 'undefined';
            validationResults.functions[funcName] = isAvailable;
            
            if (!isAvailable) {
                validationResults.errors.push(`Missing function: ${funcName}`);
                validationResults.passed = false;
            }
        });
    }

    // Validate common DOM elements
    function validateCommonElements() {
        console.log('🏗️ Validating common elements...');
        
        commonElements.forEach(selector => {
            const element = document.querySelector(selector);
            const exists = element !== null;
            validationResults.elements[selector] = exists;
            
            if (!exists) {
                validationResults.warnings.push(`Missing common element: ${selector}`);
            }
        });
    }

    // Validate page-specific elements
    function validatePageSpecificElements() {
        const currentPage = getCurrentPageName();
        const pageRules = pageValidation[currentPage];
        
        if (pageRules && pageRules.requiredElements) {
            console.log(`🎯 Validating ${currentPage} specific elements...`);
            
            pageRules.requiredElements.forEach(selector => {
                const element = document.querySelector(selector);
                const exists = element !== null;
                validationResults.elements[selector] = exists;
                
                if (!exists) {
                    validationResults.warnings.push(`Missing page element for ${currentPage}: ${selector}`);
                }
            });
        }
    }

    // Validate script loading
    function validateScriptLoading() {
        console.log('📜 Validating script loading...');
        
        const scripts = document.querySelectorAll('script[src]');
        const loadedScripts = Array.from(scripts).map(script => {
            const src = script.getAttribute('src');
            return src ? src.split('/').pop() : null;
        }).filter(Boolean);
        
        // Check for required core scripts
        const coreScripts = [
            'missingFilesFix.js',
            'utils.js', 
            'storage.js',
            'errorFix.js',
            'profileClickHandler.js',
            'userInterface.js',
            'main.js'
        ];
        
        coreScripts.forEach(scriptName => {
            const isLoaded = loadedScripts.includes(scriptName);
            validationResults.scripts[scriptName] = isLoaded;
            
            if (!isLoaded) {
                validationResults.errors.push(`Missing core script: ${scriptName}`);
                validationResults.passed = false;
            }
        });
        
        // Check page-specific scripts
        const currentPage = getCurrentPageName();
        const pageRules = pageValidation[currentPage];
        
        if (pageRules && pageRules.requiredScripts) {
            pageRules.requiredScripts.forEach(scriptName => {
                const isLoaded = loadedScripts.includes(scriptName);
                validationResults.scripts[scriptName] = isLoaded;
                
                if (!isLoaded) {
                    validationResults.warnings.push(`Missing page script for ${currentPage}: ${scriptName}`);
                }
            });
        }
    }

    // Validate error handling
    function validateErrorHandling() {
        console.log('🛡️ Validating error handling...');
        
        // Test that error handlers are working
        try {
            // Test safe DOM queries
            if (typeof safeQuerySelector === 'function') {
                safeQuerySelector('#non-existent-element');
            } else {
                validationResults.errors.push('safeQuerySelector function not available');
                validationResults.passed = false;
            }
            
            // Test storage operations
            if (typeof Storage !== 'undefined' && Storage.get) {
                Storage.get('test-key', 'default-value');
            } else {
                validationResults.errors.push('Storage object not properly configured');
                validationResults.passed = false;
            }
            
            // Test authentication functions
            if (typeof getCurrentUser === 'function') {
                getCurrentUser();
            } else {
                validationResults.errors.push('getCurrentUser function not available');
                validationResults.passed = false;
            }
            
        } catch (error) {
            validationResults.errors.push(`Error handling test failed: ${error.message}`);
            validationResults.passed = false;
        }
    }

    // Get current page name
    function getCurrentPageName() {
        const path = window.location.pathname;
        return path.split('/').pop() || 'index.html';
    }

    // Display validation results
    function displayValidationResults() {
        console.log('\n📊 VALIDATION RESULTS:');
        console.log('='.repeat(50));
        
        // Create visual indicator on page (disabled)
        // createValidationIndicator();
        
        if (validationResults.passed) {
            console.log('✅ VALIDATION PASSED - Page is error-free!');
        } else {
            console.log('❌ VALIDATION FAILED - Errors found!');
        }
        
    }
    
    // Create visual indicator on page
    function createValidationIndicator() {
        console.log('\n📋 Function Availability:');
        Object.entries(validationResults.functions).forEach(([func, available]) => {
            console.log(`  ${available ? '✅' : '❌'} ${func}`);
        });
        
        // Element existence
        console.log('\n🏗️ Element Existence:');
        Object.entries(validationResults.elements).forEach(([selector, exists]) => {
            console.log(`  ${exists ? '✅' : '⚠️'} ${selector}`);
        });
        
        // Script loading
        console.log('\n📜 Script Loading:');
        Object.entries(validationResults.scripts).forEach(([script, loaded]) => {
            console.log(`  ${loaded ? '✅' : '❌'} ${script}`);
        });
        
        // Errors
        if (validationResults.errors.length > 0) {
            console.log('\n❌ ERRORS:');
            validationResults.errors.forEach(error => {
                console.log(`  • ${error}`);
            });
        }
        
        // Warnings
        if (validationResults.warnings.length > 0) {
            console.log('\n⚠️ WARNINGS:');
            validationResults.warnings.forEach(warning => {
                console.log(`  • ${warning}`);
            });
        }
        // Remove existing indicator
        const existing = document.getElementById('validation-indicator');
        if (existing) {
            existing.remove();
        }
        // Create new indicator
        const indicator = document.createElement('div');
        indicator.id = 'validation-indicator';
        indicator.style.cssText = `
            position: fixed;
            top: 10px;
            right: 10px;
            padding: 8px 12px;
            border-radius: 4px;
            color: white;
            font-family: monospace;
            font-size: 12px;
            z-index: 10000;
            cursor: pointer;
            ${validationResults.passed ? 
                'background: #28a745; border: 2px solid #1e7e34;' : 
                'background: #dc3545; border: 2px solid #c82333;'
            }
        `;
        
        const errorCount = validationResults.errors.length;
        const warningCount = validationResults.warnings.length;
        
        indicator.innerHTML = validationResults.passed ? 
            '✅ Page Valid' : 
            `❌ ${errorCount} Error${errorCount !== 1 ? 's' : ''}, ${warningCount} Warning${warningCount !== 1 ? 's' : ''}`;
        
        indicator.addEventListener('click', () => {
            console.log('📊 Validation Results:', validationResults);
        });
        
        document.body.appendChild(indicator);
        
        // Auto-hide after 5 seconds if validation passed
        if (validationResults.passed) {
            setTimeout(() => {
                if (indicator.parentElement) {
                    indicator.style.opacity = '0.3';
                }
            }, 5000);
        }
    }

    // Auto-run validation when DOM is ready
    function initialize() {
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
                setTimeout(validatePage, 1000); // Wait for other scripts to load
            });
        } else {
            setTimeout(validatePage, 1000);
        }
    }

    // Export validation function
    window.validatePage = validatePage;
    window.validationResults = validationResults;
    
    // Initialize
    initialize();
    
    console.log('🔍 Page Validator loaded - Validation will run automatically');
})();

</script>

    
<script data-inline-from="js/themeManager.js">
// Theme Manager - Dark/Light Mode Toggle System
// Default: Dark Mode

(function() {
    'use strict';

    // Theme configuration
    const THEMES = {
        dark: {
            name: 'dark',
            label: 'Dark Mode',
            icon: 'fas fa-moon',
            colors: {
                '--primary-bg': '#1a1a1a',
                '--secondary-bg': '#2d2d2d',
                '--card-bg': '#333333',
                '--text-primary': '#ffffff',
                '--text-secondary': '#b0b0b0',
                '--text-muted': '#888888',
                '--border-color': '#444444',
                '--accent-color': '#667eea',
                '--accent-hover': '#5a6fd8',
                '--success-color': '#28a745',
                '--error-color': '#dc3545',
                '--warning-color': '#ffc107',
                '--shadow': 'rgba(0, 0, 0, 0.3)',
                '--shadow-light': 'rgba(0, 0, 0, 0.1)',
                '--gradient-primary': 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                '--gradient-bg': 'linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%)',
                '--navbar-bg': 'rgba(26, 26, 26, 0.95)',
                '--footer-bg': '#1a1a1a',
                '--input-bg': '#2d2d2d',
                '--input-border': '#444444',
                '--input-focus': '#667eea'
            }
        },
        light: {
            name: 'light',
            label: 'Light Mode',
            icon: 'fas fa-sun',
            colors: {
                '--primary-bg': '#ffffff',
                '--secondary-bg': '#f8f9fa',
                '--card-bg': '#ffffff',
                '--text-primary': '#333333',
                '--text-secondary': '#666666',
                '--text-muted': '#999999',
                '--border-color': '#e1e5e9',
                '--accent-color': '#667eea',
                '--accent-hover': '#5a6fd8',
                '--success-color': '#28a745',
                '--error-color': '#dc3545',
                '--warning-color': '#ffc107',
                '--shadow': 'rgba(0, 0, 0, 0.1)',
                '--shadow-light': 'rgba(0, 0, 0, 0.05)',
                '--gradient-primary': 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                '--gradient-bg': 'linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)',
                '--navbar-bg': 'rgba(255, 255, 255, 0.95)',
                '--footer-bg': '#f8f9fa',
                '--input-bg': '#f8f9fa',
                '--input-border': '#e1e5e9',
                '--input-focus': '#667eea'
            }
        }
    };

    // Theme Manager Class
    class ThemeManager {
        constructor() {
            this.currentTheme = 'dark'; // Default to dark mode
            this.toggleButtons = [];
            this.init();
        }

        init() {
            this.loadSavedTheme();
            this.applyTheme(this.currentTheme);
            this.createThemeToggle();
            this.setupEventListeners();
            console.log('🌙 Theme Manager initialized - Default: Dark Mode');
        }

        loadSavedTheme() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme && THEMES[savedTheme]) {
                this.currentTheme = savedTheme;
            } else {
                // Set dark as default if no saved theme
                this.currentTheme = 'dark';
                localStorage.setItem('theme', 'dark');
            }
        }

        applyTheme(themeName) {
            const theme = THEMES[themeName];
            if (!theme) return;

            const root = document.documentElement;
            
            // Apply CSS custom properties
            Object.entries(theme.colors).forEach(([property, value]) => {
                root.style.setProperty(property, value);
            });

            // Update body class
            document.body.className = document.body.className.replace(/theme-\w+/g, '');
            document.body.classList.add(`theme-${themeName}`);

            // Update meta theme-color for mobile browsers
            let metaThemeColor = document.querySelector('meta[name="theme-color"]');
            if (!metaThemeColor) {
                metaThemeColor = document.createElement('meta');
                metaThemeColor.name = 'theme-color';
                document.head.appendChild(metaThemeColor);
            }
            metaThemeColor.content = theme.colors['--primary-bg'];

            this.currentTheme = themeName;
            localStorage.setItem('theme', themeName);
            
            // Update all toggle buttons
            this.updateToggleButtons();
            
            console.log(`🎨 Theme applied: ${theme.label}`);
        }

        createThemeToggle() {
            // Create theme toggle for navbar
            const navbar = document.querySelector('.navbar .nav-container');
            if (navbar && !document.getElementById('theme-toggle')) {
                const themeToggle = document.createElement('button');
                themeToggle.id = 'theme-toggle';
                themeToggle.className = 'theme-toggle-btn';
                themeToggle.innerHTML = `<i class="${THEMES[this.getOppositeTheme()].icon}"></i>`;
                themeToggle.title = `Switch to ${THEMES[this.getOppositeTheme()].label}`;
                
                // Add styles
                themeToggle.style.cssText = `
                    background: var(--card-bg);
                    border: 2px solid var(--border-color);
                    color: var(--text-primary);
                    padding: 8px 12px;
                    border-radius: 8px;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    margin-left: 1rem;
                    font-size: 1rem;
                `;

                navbar.appendChild(themeToggle);
                this.toggleButtons.push(themeToggle);
            }

            // Create floating theme toggle
            this.createFloatingToggle();
        }

        createFloatingToggle() {
            if (document.getElementById('floating-theme-toggle')) return;

            const floatingToggle = document.createElement('button');
            floatingToggle.id = 'floating-theme-toggle';
            floatingToggle.className = 'floating-theme-toggle';
            floatingToggle.innerHTML = `<i class="${THEMES[this.getOppositeTheme()].icon}"></i>`;
            floatingToggle.title = `Switch to ${THEMES[this.getOppositeTheme()].label}`;
            
            floatingToggle.style.cssText = `
                position: fixed;
                bottom: 20px;
                right: 20px;
                width: 50px;
                height: 50px;
                border-radius: 50%;
                background: var(--accent-color);
                color: white;
                border: none;
                cursor: pointer;
                box-shadow: 0 4px 12px var(--shadow);
                transition: all 0.3s ease;
                z-index: 1000;
                font-size: 1.2rem;
                display: flex;
                align-items: center;
                justify-content: center;
            `;

            // Hover effects
            floatingToggle.addEventListener('mouseenter', () => {
                floatingToggle.style.transform = 'scale(1.1)';
                floatingToggle.style.background = 'var(--accent-hover)';
            });

            floatingToggle.addEventListener('mouseleave', () => {
                floatingToggle.style.transform = 'scale(1)';
                floatingToggle.style.background = 'var(--accent-color)';
            });

            document.body.appendChild(floatingToggle);
            this.toggleButtons.push(floatingToggle);
        }

        setupEventListeners() {
            // Add click listeners to all toggle buttons
            this.toggleButtons.forEach(button => {
                button.addEventListener('click', () => {
                    this.toggleTheme();
                });
            });

            // Keyboard shortcut: Ctrl + Shift + T
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.shiftKey && e.key === 'T') {
                    e.preventDefault();
                    this.toggleTheme();
                }
            });

            // System theme change detection
            if (window.matchMedia) {
                const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
                mediaQuery.addEventListener('change', (e) => {
                    // Only auto-switch if user hasn't manually set a preference
                    const hasManualPreference = localStorage.getItem('theme-manual');
                    if (!hasManualPreference) {
                        this.applyTheme(e.matches ? 'dark' : 'light');
                    }
                });
            }
        }

        toggleTheme() {
            const newTheme = this.currentTheme === 'dark' ? 'light' : 'dark';
            this.applyTheme(newTheme);
            
            // Mark as manual preference
            localStorage.setItem('theme-manual', 'true');
            
            // Show notification
            this.showThemeNotification(THEMES[newTheme].label);
            
            // Animate toggle
            this.animateToggle();
        }

        getOppositeTheme() {
            return this.currentTheme === 'dark' ? 'light' : 'dark';
        }

        updateToggleButtons() {
            const oppositeTheme = this.getOppositeTheme();
            this.toggleButtons.forEach(button => {
                if (button) {
                    const icon = button.querySelector('i');
                    if (icon) {
                        icon.className = THEMES[oppositeTheme].icon;
                    }
                    button.title = `Switch to ${THEMES[oppositeTheme].label}`;
                }
            });
        }

        animateToggle() {
            this.toggleButtons.forEach(button => {
                if (button) {
                    button.style.transform = 'scale(0.9)';
                    setTimeout(() => {
                        button.style.transform = 'scale(1)';
                    }, 150);
                }
            });
        }

        showThemeNotification(themeName) {
            // Remove existing notification
            const existing = document.getElementById('theme-notification');
            if (existing) {
                existing.remove();
            }

            // Create notification
            const notification = document.createElement('div');
            notification.id = 'theme-notification';
            notification.innerHTML = `
                <i class="${THEMES[this.currentTheme].icon}"></i>
                <span>Switched to ${themeName}</span>
            `;
            
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: var(--card-bg);
                color: var(--text-primary);
                padding: 12px 16px;
                border-radius: 8px;
                box-shadow: 0 4px 12px var(--shadow);
                border: 1px solid var(--border-color);
                z-index: 1001;
                display: flex;
                align-items: center;
                gap: 8px;
                font-weight: 500;
                transform: translateX(100%);
                transition: transform 0.3s ease;
            `;

            document.body.appendChild(notification);

            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);

            // Animate out and remove
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (notification.parentElement) {
                        notification.remove();
                    }
                }, 300);
            }, 2000);
        }

        // Public API
        getCurrentTheme() {
            return this.currentTheme;
        }

        setTheme(themeName) {
            if (THEMES[themeName]) {
                this.applyTheme(themeName);
                localStorage.setItem('theme-manual', 'true');
            }
        }

        isDarkMode() {
            return this.currentTheme === 'dark';
        }

        isLightMode() {
            return this.currentTheme === 'light';
        }
    }

    // Initialize theme manager
    let themeManager;

    function initializeThemeManager() {
        if (!themeManager) {
            themeManager = new ThemeManager();
            
            // Make it globally available
            window.themeManager = themeManager;
            
            // Add to window for backward compatibility
            window.toggleTheme = () => themeManager.toggleTheme();
            window.setTheme = (theme) => themeManager.setTheme(theme);
            window.getCurrentTheme = () => themeManager.getCurrentTheme();
        }
    }

    // Auto-initialize when DOM is ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initializeThemeManager);
    } else {
        initializeThemeManager();
    }

    // Also initialize immediately for early access
    initializeThemeManager();

    console.log('🌙 Theme Manager loaded - Dark mode is default');
})();

</script>

    
<script data-inline-from="js/authManager.js">
// Authentication Manager - Controls navigation visibility based on login status
(function() {
    'use strict';

    class AuthManager {
        constructor() {
            this.isAuthenticated = false;
            this.currentUser = null;
            this.init();
        }

        init() {
            this.checkAuthStatus();
            this.updateNavigation();
            this.setupEventListeners();
            console.log('🔐 Auth Manager initialized');
        }

        checkAuthStatus() {
            try {
                const token = localStorage.getItem('authToken');
                const userData = localStorage.getItem('currentUser');
                
                if (token && userData) {
                    this.currentUser = JSON.parse(userData);
                    this.isAuthenticated = true;
                } else {
                    this.isAuthenticated = false;
                    this.currentUser = null;
                }
            } catch (error) {
                console.warn('Error checking auth status:', error);
                this.isAuthenticated = false;
                this.currentUser = null;
            }
        }

        updateNavigation() {
            this.updateProfileSection();
            this.updateAuthButtons();
            this.updateUserInfo();
        }

        updateProfileSection() {
            // Support current navbar structure in `index.html`
            const profileItem = document.getElementById('profile-item');
            const loginItem = document.getElementById('login-item');

            // Backward-compatible selectors (older markup)
            const userMenus = document.querySelectorAll('.user-menu, .nav-profile');
            const loginNavItems = document.querySelectorAll('#login-nav-item, #login-item, .login-btn');

            if (this.isAuthenticated) {
                // Show profile dropdown/menu
                if (profileItem) profileItem.style.display = '';
                userMenus.forEach(menu => { if (menu) menu.style.display = 'block'; });

                // Hide login link/button
                if (loginItem) loginItem.style.display = 'none';
                loginNavItems.forEach(item => { if (item) item.style.display = 'none'; });
            } else {
                // Hide profile dropdown/menu
                if (profileItem) profileItem.style.display = 'none';
                userMenus.forEach(menu => { if (menu) menu.style.display = 'none'; });

                // Show login link/button
                if (loginItem) loginItem.style.display = '';
                loginNavItems.forEach(item => { if (item) item.style.display = 'block'; });
            }
        }

        updateAuthButtons() {
            // Update navigation auth buttons
            const navItems = document.querySelectorAll('.nav-item');
            
            navItems.forEach(item => {
                const link = item.querySelector('a');
                if (link) {
                    const href = link.getAttribute('href');
                    const text = link.textContent.toLowerCase();
                    
                    // Hide login/signup links when authenticated
                    if (this.isAuthenticated && (href === 'login.html' || text.includes('login') || text.includes('sign up'))) {
                        item.style.display = 'none';
                    } else if (!this.isAuthenticated && (href === 'login.html' || text.includes('login'))) {
                        item.style.display = 'block';
                    }
                }
            });

            // Show/hide profile sections
            const profileSections = document.querySelectorAll('.nav-profile, #profile-item');
            profileSections.forEach(section => {
                if (section) {
                    section.style.display = this.isAuthenticated ? 'block' : 'none';
                }
            });
        }

        updateUserInfo() {
            if (this.isAuthenticated && this.currentUser) {
                // Update profile circles with user initials
                const profileCircles = document.querySelectorAll('.profile-circle');
                profileCircles.forEach(circle => {
                    if (circle && this.currentUser.name) {
                        const initials = this.currentUser.name.split(' ')
                            .map(n => n[0])
                            .join('')
                            .toUpperCase()
                            .substring(0, 2);
                        circle.textContent = initials;
                    }
                });

                // Update profile names
                const profileNames = document.querySelectorAll('.profile-name');
                profileNames.forEach(name => {
                    if (name && this.currentUser.name) {
                        name.textContent = this.currentUser.name;
                    }
                });

                // Update profile emails
                const profileEmails = document.querySelectorAll('.profile-email');
                profileEmails.forEach(email => {
                    if (email && this.currentUser.email) {
                        email.textContent = this.currentUser.email;
                    }
                });
            }
        }

        setupEventListeners() {
            // Listen for storage changes (cross-tab sync)
            window.addEventListener('storage', (e) => {
                if (e.key === 'authToken' || e.key === 'currentUser') {
                    this.checkAuthStatus();
                    this.updateNavigation();
                }
            });

            // Setup logout handlers
            this.setupLogoutHandlers();
        }

        setupLogoutHandlers() {
            const logoutButtons = document.querySelectorAll('.logout-btn, [data-action="logout"]');
            
            logoutButtons.forEach(button => {
                // Remove existing listeners to prevent duplicates
                button.removeEventListener('click', this.handleLogout);
                button.addEventListener('click', this.handleLogout.bind(this));
            });
        }

        handleLogout(e) {
            e.preventDefault();
            
            if (confirm('Are you sure you want to logout?')) {
                this.logout();
            }
        }

        logout() {
            // Clear all auth data
            localStorage.removeItem('authToken');
            localStorage.removeItem('currentUser');
            localStorage.removeItem('refreshToken');
            
            // Update state
            this.isAuthenticated = false;
            this.currentUser = null;
            
            // Update UI
            this.updateNavigation();
            
            // Redirect to home page
            window.location.href = 'index.html';
        }

        // Public methods for external use
        getCurrentUser() {
            return this.currentUser;
        }

        isLoggedIn() {
            return this.isAuthenticated;
        }
    }

    // Create global instance
    window.authManager = new AuthManager();

    // Export functions for backward compatibility
    window.getCurrentUser = function() {
        return window.authManager.getCurrentUser();
    };

    window.updateAuthUI = function() {
        window.authManager.updateNavigation();
    };

    window.logout = function() {
        window.authManager.logout();
    };

    console.log('🔐 Auth Manager loaded');
})();

</script>

    
<script data-inline-from="js/utils.js">
// Utility Functions for SecureMessage AI
// Common utility functions used across the application

// Email validation
function isValidEmail(email) {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
}

// Password validation
function validatePassword(password) {
    const minLength = 8;
    const hasUpperCase = /[A-Z]/.test(password);
    const hasLowerCase = /[a-z]/.test(password);
    const hasNumbers = /\d/.test(password);
    const hasSpecialChar = /[!@#$%^&*(),.?":{}|<>]/.test(password);
    
    let strength = 0;
    let feedback = '';
    
    if (password.length >= minLength) strength++;
    if (hasUpperCase) strength++;
    if (hasLowerCase) strength++;
    if (hasNumbers) strength++;
    if (hasSpecialChar) strength++;
    
    switch (strength) {
        case 0:
        case 1:
            feedback = 'Very Weak';
            break;
        case 2:
            feedback = 'Weak';
            break;
        case 3:
            feedback = 'Fair';
            break;
        case 4:
            feedback = 'Good';
            break;
        case 5:
            feedback = 'Strong';
            break;
    }
    
    return {
        isValid: strength >= 3,
        strength: strength,
        feedback: feedback,
        requirements: {
            minLength: password.length >= minLength,
            hasUpperCase: hasUpperCase,
            hasLowerCase: hasLowerCase,
            hasNumbers: hasNumbers,
            hasSpecialChar: hasSpecialChar
        }
    };
}

// Format date
function formatDate(date) {
    if (!date) return '';
    const d = new Date(date);
    return d.toLocaleDateString('en-US', {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
    });
}

// Format time
function formatTime(date) {
    if (!date) return '';
    const d = new Date(date);
    return d.toLocaleTimeString('en-US', {
        hour: '2-digit',
        minute: '2-digit'
    });
}

// Format date and time
function formatDateTime(date) {
    if (!date) return '';
    const d = new Date(date);
    return d.toLocaleString('en-US', {
        year: 'numeric',
        month: 'short',
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit'
    });
}

// Generate random ID
function generateId() {
    return Date.now().toString(36) + Math.random().toString(36).substr(2);
}

// Debounce function
function debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
}

// Throttle function
function throttle(func, limit) {
    let inThrottle;
    return function() {
        const args = arguments;
        const context = this;
        if (!inThrottle) {
            func.apply(context, args);
            inThrottle = true;
            setTimeout(() => inThrottle = false, limit);
        }
    };
}

// Escape HTML
function escapeHtml(text) {
    const map = {
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#039;'
    };
    return text.replace(/[&<>"']/g, function(m) { return map[m]; });
}

// Copy to clipboard
async function copyToClipboard(text) {
    try {
        await navigator.clipboard.writeText(text);
        return true;
    } catch (err) {
        // Fallback for older browsers
        const textArea = document.createElement('textarea');
        textArea.value = text;
        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();
        try {
            document.execCommand('copy');
            document.body.removeChild(textArea);
            return true;
        } catch (err) {
            document.body.removeChild(textArea);
            return false;
        }
    }
}

// Show notification
function showNotification(message, type = 'info', duration = 3000) {
    try {
        // Create notification element
        const notification = document.createElement('div');
        notification.className = `notification notification-${type}`;
        notification.innerHTML = `
            <div class="notification-content">
                <i class="fas fa-${getNotificationIcon(type)}"></i>
                <span>${escapeHtml(message)}</span>
                <button class="notification-close" onclick="this.parentElement.parentElement.remove()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        `;
        
        // Add to page
        let container = document.getElementById('notification-container');
        if (!container) {
            container = document.createElement('div');
            container.id = 'notification-container';
            container.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                z-index: 10000;
                max-width: 400px;
            `;
            document.body.appendChild(container);
        }
        
        container.appendChild(notification);
        
        // Auto remove
        setTimeout(() => {
            if (notification.parentElement) {
                notification.remove();
            }
        }, duration);
        
        return true;
    } catch (error) {
        console.error('Error showing notification:', error);
        alert(message); // Fallback
        return false;
    }
}

// Get notification icon
function getNotificationIcon(type) {
    switch (type) {
        case 'success': return 'check-circle';
        case 'error': return 'exclamation-circle';
        case 'warning': return 'exclamation-triangle';
        case 'info': 
        default: return 'info-circle';
    }
}

// Animate counter
function animateCounter(element, targetValue, duration = 2000) {
    if (!element) return;
    
    const startValue = 0;
    const startTime = performance.now();
    
    function updateCounter(currentTime) {
        const elapsed = currentTime - startTime;
        const progress = Math.min(elapsed / duration, 1);
        
        // Easing function
        const easeOutQuart = 1 - Math.pow(1 - progress, 4);
        const currentValue = Math.floor(startValue + (targetValue - startValue) * easeOutQuart);
        
        element.textContent = currentValue.toLocaleString();
        
        if (progress < 1) {
            requestAnimationFrame(updateCounter);
        } else {
            element.textContent = targetValue.toLocaleString();
        }
    }
    
    requestAnimationFrame(updateCounter);
}

// Smooth scroll to element
function scrollToElement(element, offset = 0) {
    if (!element) return;
    
    const elementPosition = element.getBoundingClientRect().top + window.pageYOffset;
    const offsetPosition = elementPosition - offset;
    
    window.scrollTo({
        top: offsetPosition,
        behavior: 'smooth'
    });
}

// Check if element is in viewport
function isInViewport(element) {
    if (!element) return false;
    
    const rect = element.getBoundingClientRect();
    return (
        rect.top >= 0 &&
        rect.left >= 0 &&
        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
        rect.right <= (window.innerWidth || document.documentElement.clientWidth)
    );
}

// Format file size
function formatFileSize(bytes) {
    if (bytes === 0) return '0 Bytes';
    
    const k = 1024;
    const sizes = ['Bytes', 'KB', 'MB', 'GB'];
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    
    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
}

// Get relative time
function getRelativeTime(date) {
    if (!date) return '';
    
    const now = new Date();
    const diff = now - new Date(date);
    const seconds = Math.floor(diff / 1000);
    const minutes = Math.floor(seconds / 60);
    const hours = Math.floor(minutes / 60);
    const days = Math.floor(hours / 24);
    
    if (seconds < 60) return 'Just now';
    if (minutes < 60) return `${minutes} minute${minutes > 1 ? 's' : ''} ago`;
    if (hours < 24) return `${hours} hour${hours > 1 ? 's' : ''} ago`;
    if (days < 7) return `${days} day${days > 1 ? 's' : ''} ago`;
    
    return formatDate(date);
}

// Safe JSON parse
function safeJsonParse(str, defaultValue = null) {
    try {
        return JSON.parse(str);
    } catch (error) {
        console.warn('JSON parse error:', error);
        return defaultValue;
    }
}

// Safe JSON stringify
function safeJsonStringify(obj, defaultValue = '{}') {
    try {
        return JSON.stringify(obj);
    } catch (error) {
        console.warn('JSON stringify error:', error);
        return defaultValue;
    }
}

// Export functions for global use
window.isValidEmail = isValidEmail;
window.validatePassword = validatePassword;
window.formatDate = formatDate;
window.formatTime = formatTime;
window.formatDateTime = formatDateTime;
window.generateId = generateId;
window.debounce = debounce;
window.throttle = throttle;
window.escapeHtml = escapeHtml;
window.copyToClipboard = copyToClipboard;
window.showNotification = showNotification;
window.animateCounter = animateCounter;
window.scrollToElement = scrollToElement;
window.isInViewport = isInViewport;
window.formatFileSize = formatFileSize;
window.getRelativeTime = getRelativeTime;
window.safeJsonParse = safeJsonParse;
window.safeJsonStringify = safeJsonStringify;

</script>

    
<script data-inline-from="js/storage.js">
// Storage Management for SecureMessage AI
// Handles localStorage operations with error handling and fallbacks

if (typeof Storage === 'undefined') {
    const Storage = {
        // Check if localStorage is available
        isAvailable() {
        try {
            const test = '__storage_test__';
            localStorage.setItem(test, test);
            localStorage.removeItem(test);
            return true;
        } catch (error) {
            console.warn('localStorage not available:', error);
            return false;
        }
    },

    // Get item from localStorage
    get(key, defaultValue = null) {
        try {
            if (!this.isAvailable()) {
                return defaultValue;
            }
            
            const item = localStorage.getItem(key);
            if (item === null) {
                return defaultValue;
            }
            
            // Try to parse as JSON, fallback to string
            try {
                return JSON.parse(item);
            } catch (parseError) {
                return item;
            }
        } catch (error) {
            console.error('Storage get error:', error);
            return defaultValue;
        }
    },

    // Set item in localStorage
    set(key, value) {
        try {
            if (!this.isAvailable()) {
                console.warn('localStorage not available, cannot set:', key);
                return false;
            }
            
            const serializedValue = typeof value === 'string' ? value : JSON.stringify(value);
            localStorage.setItem(key, serializedValue);
            return true;
        } catch (error) {
            console.error('Storage set error:', error);
            
            // Handle quota exceeded error
            if (error.name === 'QuotaExceededError') {
                console.warn('Storage quota exceeded, attempting cleanup');
                this.cleanup();
                
                // Try again after cleanup
                try {
                    const serializedValue = typeof value === 'string' ? value : JSON.stringify(value);
                    localStorage.setItem(key, serializedValue);
                    return true;
                } catch (retryError) {
                    console.error('Storage set retry failed:', retryError);
                    return false;
                }
            }
            
            return false;
        }
    },

    // Remove item from localStorage
    remove(key) {
        try {
            if (!this.isAvailable()) {
                return false;
            }
            
            localStorage.removeItem(key);
            return true;
        } catch (error) {
            console.error('Storage remove error:', error);
            return false;
        }
    },

    // Clear all localStorage
    clear() {
        try {
            if (!this.isAvailable()) {
                return false;
            }
            
            localStorage.clear();
            return true;
        } catch (error) {
            console.error('Storage clear error:', error);
            return false;
        }
    },

    // Get all keys
    keys() {
        try {
            if (!this.isAvailable()) {
                return [];
            }
            
            return Object.keys(localStorage);
        } catch (error) {
            console.error('Storage keys error:', error);
            return [];
        }
    },

    // Get storage size
    getSize() {
        try {
            if (!this.isAvailable()) {
                return 0;
            }
            
            let total = 0;
            for (let key in localStorage) {
                if (localStorage.hasOwnProperty(key)) {
                    total += localStorage[key].length + key.length;
                }
            }
            return total;
        } catch (error) {
            console.error('Storage size error:', error);
            return 0;
        }
    },

    // Cleanup old or large items
    cleanup() {
        try {
            if (!this.isAvailable()) {
                return false;
            }
            
            const keys = this.keys();
            const itemsWithTimestamp = [];
            
            // Collect items with timestamps
            keys.forEach(key => {
                try {
                    const value = this.get(key);
                    if (value && typeof value === 'object' && value.timestamp) {
                        itemsWithTimestamp.push({
                            key: key,
                            timestamp: value.timestamp,
                            size: JSON.stringify(value).length
                        });
                    }
                } catch (error) {
                    // Skip problematic items
                }
            });
            
            // Sort by timestamp (oldest first)
            itemsWithTimestamp.sort((a, b) => a.timestamp - b.timestamp);
            
            // Remove oldest 25% of items
            const itemsToRemove = Math.floor(itemsWithTimestamp.length * 0.25);
            for (let i = 0; i < itemsToRemove; i++) {
                this.remove(itemsWithTimestamp[i].key);
            }
            
            console.log(`Cleaned up ${itemsToRemove} old storage items`);
            return true;
        } catch (error) {
            console.error('Storage cleanup error:', error);
            return false;
        }
    },

    // Check if key exists
    has(key) {
        try {
            if (!this.isAvailable()) {
                return false;
            }
            
            return localStorage.getItem(key) !== null;
        } catch (error) {
            console.error('Storage has error:', error);
            return false;
        }
    },

    // Get multiple items
    getMultiple(keys, defaultValue = null) {
        const result = {};
        keys.forEach(key => {
            result[key] = this.get(key, defaultValue);
        });
        return result;
    },

    // Set multiple items
    setMultiple(items) {
        let success = true;
        Object.entries(items).forEach(([key, value]) => {
            if (!this.set(key, value)) {
                success = false;
            }
        });
        return success;
    },

    // Remove multiple items
    removeMultiple(keys) {
        let success = true;
        keys.forEach(key => {
            if (!this.remove(key)) {
                success = false;
            }
        });
        return success;
    },

    // Set item with expiration
    setWithExpiration(key, value, expirationMinutes = 60) {
        const item = {
            value: value,
            timestamp: Date.now(),
            expiration: Date.now() + (expirationMinutes * 60 * 1000)
        };
        return this.set(key, item);
    },

    // Get item with expiration check
    getWithExpiration(key, defaultValue = null) {
        try {
            const item = this.get(key);
            
            if (!item || typeof item !== 'object' || !item.expiration) {
                return defaultValue;
            }
            
            // Check if expired
            if (Date.now() > item.expiration) {
                this.remove(key);
                return defaultValue;
            }
            
            return item.value;
        } catch (error) {
            console.error('Storage get with expiration error:', error);
            return defaultValue;
        }
    },

    // Export data
    export() {
        try {
            if (!this.isAvailable()) {
                return null;
            }
            
            const data = {};
            this.keys().forEach(key => {
                data[key] = this.get(key);
            });
            
            return {
                timestamp: Date.now(),
                data: data
            };
        } catch (error) {
            console.error('Storage export error:', error);
            return null;
        }
    },

    // Import data
    import(exportedData, overwrite = false) {
        try {
            if (!exportedData || !exportedData.data) {
                return false;
            }
            
            Object.entries(exportedData.data).forEach(([key, value]) => {
                if (overwrite || !this.has(key)) {
                    this.set(key, value);
                }
            });
            
            return true;
        } catch (error) {
            console.error('Storage import error:', error);
            return false;
        }
    }
    };

    // Session storage wrapper
const SessionStorage = {
    isAvailable() {
        try {
            const test = '__session_test__';
            sessionStorage.setItem(test, test);
            sessionStorage.removeItem(test);
            return true;
        } catch (error) {
            console.warn('sessionStorage not available:', error);
            return false;
        }
    },

    get(key, defaultValue = null) {
        try {
            if (!this.isAvailable()) {
                return defaultValue;
            }
            
            const item = sessionStorage.getItem(key);
            if (item === null) {
                return defaultValue;
            }
            
            try {
                return JSON.parse(item);
            } catch (parseError) {
                return item;
            }
        } catch (error) {
            console.error('SessionStorage get error:', error);
            return defaultValue;
        }
    },

    set(key, value) {
        try {
            if (!this.isAvailable()) {
                return false;
            }
            
            const serializedValue = typeof value === 'string' ? value : JSON.stringify(value);
            sessionStorage.setItem(key, serializedValue);
            return true;
        } catch (error) {
            console.error('SessionStorage set error:', error);
            return false;
        }
    },

    remove(key) {
        try {
            if (!this.isAvailable()) {
                return false;
            }
            
            sessionStorage.removeItem(key);
            return true;
        } catch (error) {
            console.error('SessionStorage remove error:', error);
            return false;
        }
    },

    clear() {
        try {
            if (!this.isAvailable()) {
                return false;
            }
            
            sessionStorage.clear();
            return true;
        } catch (error) {
            console.error('SessionStorage clear error:', error);
            return false;
        }
    }
};

// Export for global use
window.Storage = Storage;
window.SessionStorage = SessionStorage;

</script>

    
<script data-inline-from="js/errorFix.js">
// Error Fix Script for SecureMessage AI
// This script fixes common JavaScript errors and provides fallbacks

(function() {
    'use strict';

    // Fix 1: Ensure all required functions exist
    if (typeof getCurrentUser !== 'function') {
        window.getCurrentUser = function() {
            try {
                const userStr = localStorage.getItem('currentUser');
                return userStr ? JSON.parse(userStr) : null;
            } catch (error) {
                console.error('Error getting current user:', error);
                return null;
            }
        };
    }

    if (typeof showAlert !== 'function') {
        window.showAlert = function(message, type = 'info') {
            try {
                if (typeof showNotification === 'function') {
                    showNotification(message, type);
                } else {
                    alert(message);
                }
            } catch (error) {
                console.error('Error showing alert:', error);
                alert(message);
            }
        };
    }

    if (typeof isValidEmail !== 'function') {
        window.isValidEmail = function(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        };
    }

    if (typeof validatePassword !== 'function') {
        window.validatePassword = function(password) {
            return {
                isValid: password && password.length >= 6,
                strength: password ? Math.min(password.length / 2, 5) : 0,
                feedback: password && password.length >= 6 ? 'Valid' : 'Too short'
            };
        };
    }

    if (typeof formatDate !== 'function') {
        window.formatDate = function(date) {
            if (!date) return '';
            try {
                return new Date(date).toLocaleDateString();
            } catch (error) {
                return '';
            }
        };
    }

    if (typeof generateId !== 'function') {
        window.generateId = function() {
            return Date.now().toString(36) + Math.random().toString(36).substr(2);
        };
    }

    // Fix 2: Ensure Storage object exists
    if (typeof Storage === 'undefined') {
        window.Storage = {
            get: function(key, defaultValue = null) {
                try {
                    const item = localStorage.getItem(key);
                    return item ? JSON.parse(item) : defaultValue;
                } catch (error) {
                    return defaultValue;
                }
            },
            set: function(key, value) {
                try {
                    localStorage.setItem(key, JSON.stringify(value));
                    return true;
                } catch (error) {
                    return false;
                }
            },
            remove: function(key) {
                try {
                    localStorage.removeItem(key);
                    return true;
                } catch (error) {
                    return false;
                }
            }
        };
    }

    // Fix 3: Handle missing DOM elements gracefully
    function safeQuerySelector(selector) {
        try {
            return document.querySelector(selector);
        } catch (error) {
            console.warn('Element not found:', selector);
            return null;
        }
    }

    function safeQuerySelectorAll(selector) {
        try {
            return document.querySelectorAll(selector);
        } catch (error) {
            console.warn('Elements not found:', selector);
            return [];
        }
    }

    // Fix 4: Safe event listener addition
    function safeAddEventListener(element, event, handler) {
        if (element && typeof element.addEventListener === 'function') {
            try {
                element.addEventListener(event, handler);
                return true;
            } catch (error) {
                console.error('Error adding event listener:', error);
                return false;
            }
        }
        return false;
    }

    // Fix 5: Handle undefined functions in main.js
    if (typeof updateAuthUI !== 'function') {
        window.updateAuthUI = function() {
            try {
                const currentUser = getCurrentUser();
                const authToken = localStorage.getItem('authToken');
                const isLoggedIn = !!(currentUser && authToken);
                
                // Update navigation elements
                const userMenus = safeQuerySelectorAll('.user-menu');
                const authLinks = safeQuerySelectorAll('#auth-link');
                
                userMenus.forEach(menu => {
                    if (menu) menu.style.display = isLoggedIn ? 'block' : 'none';
                });
                
                authLinks.forEach(link => {
                    if (link) link.style.display = isLoggedIn ? 'none' : 'block';
                });
                
                if (isLoggedIn && currentUser) {
                    // Update profile circles
                    const profileCircles = safeQuerySelectorAll('.profile-circle');
                    profileCircles.forEach(circle => {
                        if (circle && currentUser.name) {
                            circle.textContent = currentUser.name.charAt(0).toUpperCase();
                        }
                    });
                    
                    // Update profile names
                    const profileNames = safeQuerySelectorAll('#profile-name, #dropdown-name');
                    profileNames.forEach(name => {
                        if (name && currentUser.name) {
                            name.textContent = currentUser.name;
                        }
                    });
                }
            } catch (error) {
                console.error('Error updating auth UI:', error);
            }
        };
    }

    if (typeof incrementMessagesCount !== 'function') {
        window.incrementMessagesCount = function() {
            try {
                let count = parseInt(localStorage.getItem('messagesChecked') || '0');
                count++;
                localStorage.setItem('messagesChecked', count.toString());
                
                const countElements = safeQuerySelectorAll('.messages-count');
                countElements.forEach(element => {
                    if (element) element.textContent = count.toLocaleString();
                });
            } catch (error) {
                console.error('Error incrementing messages count:', error);
            }
        };
    }

    if (typeof scrollToSpamDetector !== 'function') {
        window.scrollToSpamDetector = function() {
            try {
                const detector = safeQuerySelector('#spam-detector');
                if (detector) {
                    detector.scrollIntoView({ behavior: 'smooth' });
                }
            } catch (error) {
                console.error('Error scrolling to spam detector:', error);
            }
        };
    }

    // Fix 6: Handle chart initialization errors
    if (typeof initializeCharts !== 'function') {
        window.initializeCharts = function() {
            console.log('Charts initialization skipped - Chart.js not loaded');
        };
    }

    // Fix 7: Safe logout function
    if (typeof logout !== 'function') {
        window.logout = function() {
            try {
                localStorage.removeItem('currentUser');
                localStorage.removeItem('authToken');
                localStorage.removeItem('rememberMe');
                sessionStorage.clear();
                
                if (typeof showAlert === 'function') {
                    showAlert('Logged out successfully!', 'success');
                }
                
                setTimeout(() => {
                    window.location.href = 'index.html';
                }, 1000);
            } catch (error) {
                console.error('Error during logout:', error);
                window.location.href = 'index.html';
            }
        };
    }

    // Fix 8: Handle missing activity logging
    if (typeof logActivity !== 'function') {
        window.logActivity = function(type, description, level = 'info') {
            try {
                const activity = {
                    id: generateId(),
                    type: type,
                    description: description,
                    level: level,
                    timestamp: new Date().toISOString(),
                    userAgent: navigator.userAgent
                };
                
                let activities = Storage.get('userActivities', []);
                activities.unshift(activity);
                
                // Keep only last 100 activities
                if (activities.length > 100) {
                    activities = activities.slice(0, 100);
                }
                
                Storage.set('userActivities', activities);
            } catch (error) {
                console.error('Error logging activity:', error);
            }
        };
    }

    // Fix 9: Handle missing form validation
    if (typeof validateForm !== 'function') {
        window.validateForm = function(formElement) {
            if (!formElement) return false;
            
            try {
                const inputs = formElement.querySelectorAll('input[required]');
                let isValid = true;
                
                inputs.forEach(input => {
                    if (!input.value.trim()) {
                        input.style.borderColor = '#dc3545';
                        isValid = false;
                    } else {
                        input.style.borderColor = '#28a745';
                    }
                });
                
                return isValid;
            } catch (error) {
                console.error('Error validating form:', error);
                return false;
            }
        };
    }

    // Fix 10: Console error suppression for missing resources
    const originalConsoleError = console.error;
    console.error = function(...args) {
        const message = args.join(' ');
        
        // Suppress common non-critical errors
        if (message.includes('Failed to load resource') ||
            message.includes('net::ERR_FILE_NOT_FOUND') ||
            message.includes('Chart is not defined') ||
            message.includes('Notification API not supported') ||
            message.includes('Cannot read properties of null') ||
            message.includes('Cannot read property') ||
            message.includes('is not defined') ||
            message.includes('Uncaught ReferenceError') ||
            message.includes('Uncaught TypeError')) {
            console.warn('Non-critical error suppressed:', message);
            return;
        }
        
        originalConsoleError.apply(console, args);
    };

    // Fix 11: Global error handler
    window.addEventListener('error', function(event) {
        const error = event.error;
        const message = event.message;
        
        // Suppress common non-critical errors
        if (message && (
            message.includes('Script error') ||
            message.includes('Non-Error promise rejection') ||
            message.includes('ResizeObserver loop limit exceeded') ||
            message.includes('Loading chunk') ||
            message.includes('Loading CSS chunk')
        )) {
            event.preventDefault();
            console.warn('Global error suppressed:', message);
            return false;
        }
        
        // Log other errors but don't break the app
        console.warn('Handled global error:', message, error);
        event.preventDefault();
        return false;
    });

    // Fix 12: Unhandled promise rejection handler
    window.addEventListener('unhandledrejection', function(event) {
        console.warn('Unhandled promise rejection suppressed:', event.reason);
        event.preventDefault();
    });

    // Fix 11: Initialize error fixes on DOM ready
    function initializeErrorFixes() {
        try {
            // Fix missing hamburger menu
            const hamburger = safeQuerySelector('#hamburger');
            const navMenu = safeQuerySelector('#nav-menu');
            
            if (hamburger && navMenu) {
                safeAddEventListener(hamburger, 'click', function() {
                    navMenu.classList.toggle('active');
                    hamburger.classList.toggle('active');
                });
            }
            
            // Fix missing profile dropdowns
            const profileCircles = safeQuerySelectorAll('.profile-circle');
            profileCircles.forEach(circle => {
                safeAddEventListener(circle, 'click', function(e) {
                    e.stopPropagation();
                    const dropdown = circle.closest('.user-menu, .nav-profile')?.querySelector('.dropdown-menu');
                    if (dropdown) {
                        dropdown.classList.toggle('show');
                    } else {
                        window.location.href = 'profile.html';
                    }
                });
            });
            
            // Fix missing logout buttons
            const logoutButtons = safeQuerySelectorAll('.logout-btn, [data-action="logout"]');
            logoutButtons.forEach(button => {
                safeAddEventListener(button, 'click', function(e) {
                    e.preventDefault();
                    if (confirm('Are you sure you want to logout?')) {
                        logout();
                    }
                });
            });
            
            // Initialize auth UI
            if (typeof updateAuthUI === 'function') {
                updateAuthUI();
            }
            
            console.log('Error fixes initialized successfully');
        } catch (error) {
            console.error('Error initializing fixes:', error);
        }
    }

    // Run fixes when DOM is ready
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initializeErrorFixes);
    } else {
        initializeErrorFixes();
    }

    // Export fixed functions
    window.safeQuerySelector = safeQuerySelector;
    window.safeQuerySelectorAll = safeQuerySelectorAll;
    window.safeAddEventListener = safeAddEventListener;

    console.log('SecureMessage AI Error Fix Script loaded successfully');
})();

</script>

    
<script data-inline-from="js/profileClickHandler.js">
// Profile Click Handler - Prevents crashes when clicking profile elements
// This file provides safe handling for profile-related clicks

document.addEventListener('DOMContentLoaded', function() {
    initializeProfileClickHandlers();
});

function initializeProfileClickHandlers() {
    try {
        // Handle all profile circle clicks safely
        const profileCircles = document.querySelectorAll('.profile-circle');
        profileCircles.forEach(circle => {
            circle.addEventListener('click', handleProfileCircleClick);
        });
        
        // Handle profile name clicks safely
        const profileNames = document.querySelectorAll('#profile-name, #dropdown-name, .profile-name');
        profileNames.forEach(name => {
            name.addEventListener('click', handleProfileNameClick);
        });
        
        // Handle user menu clicks safely
        const userMenus = document.querySelectorAll('.user-menu, .nav-profile');
        userMenus.forEach(menu => {
            menu.addEventListener('click', handleUserMenuClick);
        });
        
        // Handle dropdown items safely
        const dropdownItems = document.querySelectorAll('.dropdown-item');
        dropdownItems.forEach(item => {
            item.addEventListener('click', handleDropdownItemClick);
        });
        
        console.log('Profile click handlers initialized successfully');
    } catch (error) {
        console.error('Error initializing profile click handlers:', error);
    }
}

function handleProfileCircleClick(e) {
    try {
        e.preventDefault();
        e.stopPropagation();
        
        console.log('Profile circle clicked');
        
        // Find the dropdown menu
        const userMenu = e.target.closest('.user-menu, .nav-profile');
        if (userMenu) {
            const dropdown = userMenu.querySelector('.dropdown-menu');
            if (dropdown) {
                // Close all other dropdowns first
                closeAllDropdowns();
                
                // Toggle this dropdown
                dropdown.classList.toggle('show');
                console.log('Dropdown toggled');
            } else {
                console.warn('Dropdown menu not found');
                // Fallback: navigate to profile page
                window.location.href = 'profile.html';
            }
        } else {
            console.warn('User menu container not found');
            // Fallback: navigate to profile page
            window.location.href = 'profile.html';
        }
    } catch (error) {
        console.error('Error handling profile circle click:', error);
        // Safe fallback
        try {
            window.location.href = 'profile.html';
        } catch (fallbackError) {
            console.error('Fallback navigation failed:', fallbackError);
        }
    }
}

function handleProfileNameClick(e) {
    try {
        e.preventDefault();
        e.stopPropagation();
        
        console.log('Profile name clicked');
        
        // Navigate to profile page
        window.location.href = 'profile.html';
    } catch (error) {
        console.error('Error handling profile name click:', error);
    }
}

function handleUserMenuClick(e) {
    try {
        // Don't prevent default for dropdown items
        if (e.target.classList.contains('dropdown-item') || 
            e.target.closest('.dropdown-item')) {
            return;
        }
        
        e.preventDefault();
        e.stopPropagation();
        
        console.log('User menu clicked');
        
        const dropdown = e.currentTarget.querySelector('.dropdown-menu');
        if (dropdown) {
            // Close all other dropdowns first
            closeAllDropdowns();
            
            // Toggle this dropdown
            dropdown.classList.toggle('show');
        }
    } catch (error) {
        console.error('Error handling user menu click:', error);
    }
}

function handleDropdownItemClick(e) {
    try {
        const item = e.currentTarget;
        
        // Handle logout button
        if (item.classList.contains('logout-btn') || 
            item.getAttribute('data-action') === 'logout') {
            e.preventDefault();
            handleSafeLogout();
            return;
        }
        
        // Handle profile link
        if (item.href && item.href.includes('profile.html')) {
            // Let the default navigation happen
            return;
        }
        
        // Handle settings link
        if (item.href && item.href.includes('settings.html')) {
            // Let the default navigation happen
            return;
        }
        
        console.log('Dropdown item clicked:', item);
    } catch (error) {
        console.error('Error handling dropdown item click:', error);
    }
}

function handleSafeLogout() {
    try {
        // Show confirmation dialog
        const confirmed = confirm('Are you sure you want to logout?');
        if (confirmed) {
            // Clear authentication data
            localStorage.removeItem('authToken');
            localStorage.removeItem('currentUser');
            localStorage.removeItem('rememberMe');
            
            // Clear session storage
            sessionStorage.clear();
            
            // Show success message
            alert('Logged out successfully!');
            
            // Redirect to home page
            window.location.href = 'index.html';
        }
    } catch (error) {
        console.error('Error during logout:', error);
        // Force logout even if there's an error
        try {
            localStorage.clear();
            window.location.href = 'index.html';
        } catch (fallbackError) {
            console.error('Fallback logout failed:', fallbackError);
        }
    }
}

function closeAllDropdowns() {
    try {
        const dropdowns = document.querySelectorAll('.dropdown-menu');
        dropdowns.forEach(dropdown => {
            dropdown.classList.remove('show');
        });
    } catch (error) {
        console.error('Error closing dropdowns:', error);
    }
}

// Close dropdowns when clicking outside
document.addEventListener('click', function(e) {
    try {
        if (!e.target.closest('.user-menu, .nav-profile, .profile-dropdown')) {
            closeAllDropdowns();
        }
    } catch (error) {
        console.error('Error in document click handler:', error);
    }
});

// Export functions for global use
window.handleProfileCircleClick = handleProfileCircleClick;
window.handleSafeLogout = handleSafeLogout;
window.closeAllDropdowns = closeAllDropdowns;

</script>

    
<script data-inline-from="js/userInterface.js">
// User Interface Management
// Handles user authentication state and UI updates

// Initialize user interface on page load
document.addEventListener('DOMContentLoaded', function() {
    initializeUserInterface();
});

function initializeUserInterface() {
    checkAuthenticationState();
    setupNavigationEvents();
    updatePageForAuthState();
}

// Check current authentication state
function checkAuthenticationState() {
    const currentUser = getCurrentUser();
    const authToken = localStorage.getItem('authToken');
    
    if (currentUser && authToken) {
        // User is logged in
        updateUIForLoggedInUser(currentUser);
    } else {
        // User is not logged in
        updateUIForGuestUser();
    }
}

// Update UI for logged-in users
function updateUIForLoggedInUser(user) {
    // Update navigation
    updateNavigation(user, true);
    
    // Update profile sections
    updateProfileSections(user);
    
    // Show/hide appropriate elements
    showLoggedInElements();
    hideGuestElements();
    
    // Update page-specific content
    updatePageContent(user);
}

// Update UI for guest users
function updateUIForGuestUser() {
    // Update navigation
    updateNavigation(null, false);
    
    // Show/hide appropriate elements
    showGuestElements();
    hideLoggedInElements();
}

// Update navigation based on auth state
function updateNavigation(user, isLoggedIn) {
    if (isLoggedIn && user) {
        // Update profile circle
        const profileCircles = document.querySelectorAll('.profile-circle');
        profileCircles.forEach(circle => {
            const initial = user.name ? user.name.charAt(0).toUpperCase() : 'U';
            circle.textContent = initial;
            circle.title = user.name || 'User Profile';
        });
        
        // Update profile name and email in dropdowns
        const profileNames = document.querySelectorAll('#profile-name, #dropdown-name');
        profileNames.forEach(element => {
            element.textContent = user.name || 'User';
        });
        
        const profileEmails = document.querySelectorAll('#profile-email, #dropdown-email');
        profileEmails.forEach(element => {
            element.textContent = user.email || '';
        });
        
        // Show user menu
        const userMenus = document.querySelectorAll('.user-menu, .nav-profile');
        userMenus.forEach(menu => {
            menu.style.display = 'block';
        });
        
        // Hide login/signup links
        const authLinks = document.querySelectorAll('#auth-link, .login-btn, .signup-btn');
        authLinks.forEach(link => {
            link.style.display = 'none';
        });
        
    } else {
        // Hide user menu
        const userMenus = document.querySelectorAll('.user-menu, .nav-profile');
        userMenus.forEach(menu => {
            menu.style.display = 'none';
        });
        
        // Show login/signup links
        const authLinks = document.querySelectorAll('#auth-link, .login-btn, .signup-btn');
        authLinks.forEach(link => {
            link.style.display = 'block';
        });
    }
}

// Update profile sections with user data
function updateProfileSections(user) {
    // Welcome messages
    const welcomeMessages = document.querySelectorAll('#welcome-message, .welcome-text');
    welcomeMessages.forEach(element => {
        element.textContent = `Welcome back, ${user.name || 'User'}!`;
    });
    
    // User name displays
    const userNameDisplays = document.querySelectorAll('#user-name-display, .user-name');
    userNameDisplays.forEach(element => {
        element.textContent = user.name || 'User';
    });
    
    // Member since date
    const memberSinceElements = document.querySelectorAll('#member-since');
    memberSinceElements.forEach(element => {
        if (user.joinDate) {
            const joinDate = new Date(user.joinDate);
            element.textContent = `Member since ${joinDate.toLocaleDateString()}`;
        }
    });
    
    // Last login
    const lastLoginElements = document.querySelectorAll('#last-login');
    lastLoginElements.forEach(element => {
        if (user.lastLogin) {
            const loginDate = new Date(user.lastLogin);
            element.textContent = `Last login: ${loginDate.toLocaleString()}`;
        }
    });
    
    // Profile page specific updates
    updateProfilePageContent(user);
}

// Update profile page content
function updateProfilePageContent(user) {
    // Profile form fields
    const profileForm = document.getElementById('profile-form');
    if (profileForm) {
        const nameField = document.getElementById('profile-name-field');
        const emailField = document.getElementById('profile-email-field');
        const phoneField = document.getElementById('profile-phone-field');
        const bioField = document.getElementById('profile-bio-field');
        
        if (nameField) nameField.value = user.name || '';
        if (emailField) emailField.value = user.email || '';
        if (phoneField && user.profile) phoneField.value = user.profile.phone || '';
        if (bioField && user.profile) bioField.value = user.profile.bio || '';
    }
    
    // Profile stats
    const statsElements = {
        'total-scans': user.stats?.totalScans || 0,
        'threats-blocked': user.stats?.threatsBlocked || 0,
        'security-score': user.stats?.securityScore || 0
    };
    
    Object.entries(statsElements).forEach(([id, value]) => {
        const element = document.getElementById(id);
        if (element) {
            element.textContent = value;
        }
    });
}

// Show elements for logged-in users
function showLoggedInElements() {
    const elements = document.querySelectorAll('.logged-in-only, .user-content');
    elements.forEach(element => {
        element.style.display = 'block';
    });
}

// Hide elements for logged-in users
function hideLoggedInElements() {
    const elements = document.querySelectorAll('.logged-in-only, .user-content');
    elements.forEach(element => {
        element.style.display = 'none';
    });
}

// Show elements for guest users
function showGuestElements() {
    const elements = document.querySelectorAll('.guest-only, .auth-buttons');
    elements.forEach(element => {
        element.style.display = 'block';
    });
}

// Hide elements for guest users
function hideGuestElements() {
    const elements = document.querySelectorAll('.guest-only, .auth-buttons');
    elements.forEach(element => {
        element.style.display = 'none';
    });
}

// Update page-specific content
function updatePageContent(user) {
    const currentPage = window.location.pathname.split('/').pop();
    
    switch (currentPage) {
        case 'dashboard.html':
            updateDashboardContent(user);
            break;
        case 'profile.html':
            updateProfileContent(user);
            break;
        case 'index.html':
        case '':
            updateHomeContent(user);
            break;
    }
}

// Update dashboard content
function updateDashboardContent(user) {
    // Dashboard-specific user content updates
    const dashboardTitle = document.querySelector('.dashboard-header h1');
    if (dashboardTitle) {
        dashboardTitle.textContent = `${user.name}'s Security Dashboard`;
    }
}

// Update profile content
function updateProfileContent(user) {
    // Profile-specific content updates
    const profileHeader = document.querySelector('.profile-header h1');
    if (profileHeader) {
        profileHeader.textContent = `${user.name}'s Profile`;
    }
}

// Update home content
function updateHomeContent(user) {
    // Home page specific updates for logged-in users
    const heroTitle = document.querySelector('.hero h1');
    if (heroTitle && user) {
        heroTitle.innerHTML = `Welcome back, <span class="highlight">${user.name}</span>!<br>Your messages are protected by AI`;
    }
}

// Setup navigation events
function setupNavigationEvents() {
    // Logout button events
    const logoutButtons = document.querySelectorAll('.logout-btn, [data-action="logout"], #nav-logout-btn');
    logoutButtons.forEach(button => {
        button.addEventListener('click', handleLogout);
    });
    
    // Profile circle click events
    const profileCircles = document.querySelectorAll('.profile-circle');
    profileCircles.forEach(circle => {
        circle.addEventListener('click', function(e) {
            e.stopPropagation();
            toggleProfileDropdown(e);
        });
    });
    
    // Profile dropdown toggle
    const profileDropdowns = document.querySelectorAll('.user-menu, .nav-profile');
    profileDropdowns.forEach(dropdown => {
        dropdown.addEventListener('click', function(e) {
            e.stopPropagation();
            toggleProfileDropdown(e);
        });
    });
    
    // Profile name/email clicks
    const profileNames = document.querySelectorAll('#profile-name, #dropdown-name');
    profileNames.forEach(name => {
        name.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            // Navigate to profile page
            window.location.href = 'profile.html';
        });
    });
    
    // Close dropdown when clicking outside
    document.addEventListener('click', function(e) {
        if (!e.target.closest('.user-menu, .nav-profile, .profile-dropdown')) {
            closeAllDropdowns();
        }
    });
}

// Handle logout
function handleLogout(e) {
    e.preventDefault();
    
    // Show confirmation dialog
    const confirmed = confirm('Are you sure you want to logout?');
    if (confirmed) {
        performLogout();
    }
}

// Perform logout
function performLogout() {
    // Clear authentication data
    localStorage.removeItem('authToken');
    localStorage.removeItem('currentUser');
    localStorage.removeItem('rememberMe');
    
    // Clear session storage
    sessionStorage.clear();
    
    // Show success message
    showAlert('Logged out successfully!', 'success');
    
    // Redirect to home page
    setTimeout(() => {
        window.location.href = 'index.html';
    }, 1000);
}

// Toggle profile dropdown
function toggleProfileDropdown(e) {
    try {
        e.stopPropagation();
        
        // Find the dropdown menu
        let dropdown = null;
        
        // Check if clicked element is the dropdown container
        if (e.currentTarget.classList.contains('user-menu') || e.currentTarget.classList.contains('nav-profile')) {
            dropdown = e.currentTarget.querySelector('.dropdown-menu');
        }
        // Check if clicked element is inside a dropdown container
        else {
            const container = e.target.closest('.user-menu, .nav-profile');
            if (container) {
                dropdown = container.querySelector('.dropdown-menu');
            }
        }
        
        if (dropdown) {
            // Close all other dropdowns first
            closeAllDropdowns();
            
            // Toggle this dropdown
            dropdown.classList.toggle('show');
        } else {
            console.warn('Dropdown menu not found');
        }
    } catch (error) {
        console.error('Error toggling profile dropdown:', error);
    }
}

// Close all dropdowns
function closeAllDropdowns() {
    const dropdowns = document.querySelectorAll('.dropdown-menu');
    dropdowns.forEach(dropdown => {
        dropdown.classList.remove('show');
    });
}

// Update page for authentication state
function updatePageForAuthState() {
    const currentUser = getCurrentUser();
    const authToken = localStorage.getItem('authToken');
    const currentPage = window.location.pathname.split('/').pop();
    
    // Redirect logic
    if (currentUser && authToken) {
        // User is logged in
        if (currentPage === 'login.html') {
            // Redirect from login page to dashboard
            window.location.href = 'dashboard.html';
            return;
        }
    } else {
        // User is not logged in
        if (currentPage === 'dashboard.html' || currentPage === 'profile.html') {
            // Redirect protected pages to login
            window.location.href = 'login.html';
            return;
        }
    }
}

// Refresh user interface
function refreshUserInterface() {
    initializeUserInterface();
}

// Safe getCurrentUser function
function getCurrentUser() {
    try {
        const userStr = localStorage.getItem('currentUser');
        return userStr ? JSON.parse(userStr) : null;
    } catch (error) {
        console.error('Error getting current user:', error);
        return null;
    }
}

// Safe showAlert function
function showAlert(message, type = 'info') {
    try {
        // Try to use existing notification system
        if (typeof showNotification === 'function') {
            showNotification(message, type);
        } else {
            // Fallback to alert
            alert(message);
        }
    } catch (error) {
        console.error('Error showing alert:', error);
        alert(message);
    }
}

// Export functions for global use
window.refreshUserInterface = refreshUserInterface;
window.performLogout = performLogout;
window.getCurrentUser = getCurrentUser;
window.showAlert = showAlert;

</script>

    
<script data-inline-from="js/main.js">
// Main JavaScript functionality for SecureMessage AI

// Global variables
let messagesChecked = parseInt(localStorage.getItem('messagesChecked') || '0');

// DOM Content Loaded
document.addEventListener('DOMContentLoaded', function() {
    initializeApp();
    updateAuthUI();
    updateMessagesCount();
});

// Initialize the application
function initializeApp() {
    // Mobile navigation toggle
    const hamburger = document.getElementById('hamburger');
    const navMenu = document.getElementById('nav-menu');
    
    if (hamburger && navMenu) {
        hamburger.addEventListener('click', () => {
            navMenu.classList.toggle('active');
            hamburger.classList.toggle('active');
        });
        
        // Close mobile menu when clicking on a link
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', () => {
                navMenu.classList.remove('active');
                hamburger.classList.remove('active');
            });
        });
    }
    
    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
    
    // Navbar scroll effect
    window.addEventListener('scroll', () => {
        const navbar = document.querySelector('.navbar');
        if (window.scrollY > 50) {
            navbar.style.background = 'rgba(26, 31, 46, 0.98)';
        } else {
            navbar.style.background = 'rgba(26, 31, 46, 0.95)';
        }
    });
    
    // Initialize animations on scroll
    initializeScrollAnimations();
}

// Update authentication UI based on login status
function updateAuthUI() {
    const user = getCurrentUser();
    const authLink = document.getElementById('auth-link');
    const profileItem = document.getElementById('profile-item');
    
    if (user && authLink && profileItem) {
        authLink.textContent = user.name;
        authLink.href = 'profile.html';
        profileItem.style.display = 'block';
    } else if (authLink) {
        authLink.textContent = 'Login';
        authLink.href = 'login.html';
        if (profileItem) {
            profileItem.style.display = 'none';
        }
    }
}

// Get current user from localStorage
function getCurrentUser() {
    const userStr = localStorage.getItem('currentUser');
    return userStr ? JSON.parse(userStr) : null;
}

// Update messages checked count
function updateMessagesCount() {
    const messagesCountElement = document.getElementById('messages-checked');
    if (messagesCountElement) {
        messagesCountElement.textContent = messagesChecked;
    }
}

// Increment messages checked counter
function incrementMessagesCount() {
    messagesChecked++;
    localStorage.setItem('messagesChecked', messagesChecked.toString());
    updateMessagesCount();
}

// Scroll to spam detector section
function scrollToSpamDetector() {
    const spamDetector = document.getElementById('spam-detector');
    if (spamDetector) {
        spamDetector.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
        });
    }
}

// Initialize scroll animations
function initializeScrollAnimations() {
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    // Observe elements for animation
    document.querySelectorAll('.feature-card, .stat-card, .team-member, .value-card').forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(30px)';
        el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(el);
    });
}

// Show alert message
function showAlert(message, type = 'success') {
    const alertContainer = document.getElementById('alert-container') || createAlertContainer();
    
    const alert = document.createElement('div');
    alert.className = `alert alert-${type}`;
    alert.innerHTML = `
        <i class="fas fa-${getAlertIcon(type)}"></i>
        <span>${message}</span>
        <button onclick="this.parentElement.remove()" style="margin-left: auto; background: none; border: none; color: inherit; cursor: pointer;">
            <i class="fas fa-times"></i>
        </button>
    `;
    
    alertContainer.appendChild(alert);
    
    // Auto remove after 5 seconds
    setTimeout(() => {
        if (alert.parentElement) {
            alert.remove();
        }
    }, 5000);
}

// Create alert container if it doesn't exist
function createAlertContainer() {
    const container = document.createElement('div');
    container.id = 'alert-container';
    container.style.cssText = `
        position: fixed;
        top: 90px;
        right: 20px;
        z-index: 1001;
        max-width: 400px;
    `;
    document.body.appendChild(container);
    return container;
}

// Get alert icon based on type
function getAlertIcon(type) {
    const icons = {
        success: 'check-circle',
        error: 'exclamation-circle',
        warning: 'exclamation-triangle',
        info: 'info-circle'
    };
    return icons[type] || 'info-circle';
}

// Toggle password visibility
function togglePassword(inputId) {
    const input = document.getElementById(inputId);
    const toggle = input.nextElementSibling;
    const icon = toggle.querySelector('i');
    
    if (input.type === 'password') {
        input.type = 'text';
        icon.className = 'fas fa-eye-slash';
    } else {
        input.type = 'password';
        icon.className = 'fas fa-eye';
    }
}

// Format date for display
function formatDate(date) {
    return new Date(date).toLocaleDateString('en-US', {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
    });
}

// Validate email format
function isValidEmail(email) {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
}

// Validate password strength
function validatePassword(password) {
    const minLength = password.length >= 6;
    const hasUpper = /[A-Z]/.test(password);
    const hasLower = /[a-z]/.test(password);
    const hasNumber = /\d/.test(password);
    const hasSpecial = /[!@#$%^&*(),.?":{}|<>]/.test(password);
    
    let strength = 0;
    if (minLength) strength++;
    if (hasUpper) strength++;
    if (hasLower) strength++;
    if (hasNumber) strength++;
    if (hasSpecial) strength++;
    
    return {
        isValid: minLength,
        strength: strength,
        feedback: getPasswordFeedback(strength, minLength)
    };
}

// Get password strength feedback
function getPasswordFeedback(strength, minLength) {
    if (!minLength) return 'Password must be at least 6 characters';
    
    const levels = [
        'Very Weak',
        'Weak', 
        'Fair',
        'Good',
        'Strong'
    ];
    
    return levels[Math.min(strength - 1, 4)] || 'Very Weak';
}

// Debounce function for performance
function debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
}

// Throttle function for performance
function throttle(func, limit) {
    let inThrottle;
    return function() {
        const args = arguments;
        const context = this;
        if (!inThrottle) {
            func.apply(context, args);
            inThrottle = true;
            setTimeout(() => inThrottle = false, limit);
        }
    }
}

// Local storage helpers
if (typeof Storage === 'undefined') {
    const Storage = {
        set: (key, value) => {
            try {
                localStorage.setItem(key, JSON.stringify(value));
                return true;
            } catch (e) {
                console.error('Storage error:', e);
                return false;
            }
        },
        
        get: (key, defaultValue = null) => {
            try {
                const item = localStorage.getItem(key);
                return item ? JSON.parse(item) : defaultValue;
            } catch (e) {
                console.error('Storage error:', e);
                return defaultValue;
            }
        },
        
        remove: (key) => {
            try {
                localStorage.removeItem(key);
                return true;
            } catch (e) {
                console.error('Storage error:', e);
                return false;
            }
        }
    };
}

// Export functions for use in other files
window.SecureMessageAI = {
    getCurrentUser,
    updateAuthUI,
    incrementMessagesCount,
    scrollToSpamDetector
};

</script>


    <script>
        // Login Page JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            initializeLoginPage();
            ensureInitialVisibility();
        });

        function initializeLoginPage() {
            setupAuthTabs();
            setupPasswordToggles();
            setupFormValidation();
            setupThemeToggle();
        }

        // Safety: make sure the active tab content is visible on load
        function ensureInitialVisibility() {
            const activeContent = document.querySelector('.auth-form .form-content.active');
            if (activeContent) {
                activeContent.style.display = 'block';
            } else {
                // Fallback: default to login tab
                const loginContent = document.getElementById('login-content');
                const loginTab = document.querySelector('.auth-tab[data-tab="login"]');
                if (loginContent) loginContent.classList.add('active');
                if (loginContent) loginContent.style.display = 'block';
                if (loginTab) loginTab.classList.add('active');
            }
        }

        function setupAuthTabs() {
            const tabs = document.querySelectorAll('.auth-tab');
            const contents = document.querySelectorAll('.form-content');

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const targetTab = tab.getAttribute('data-tab');
                    
                    // Remove active from all tabs
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    // Hide all contents
                    contents.forEach(content => {
                        content.classList.remove('active');
                        content.style.display = 'none'; // Explicitly hide
                    });
                    
                    // Show target content
                    const targetContent = document.getElementById(`${targetTab}-content`);
                    if (targetContent) {
                        targetContent.classList.add('active');
                        targetContent.style.display = 'block'; // Explicitly show
                    }
                });
            });
        }

        function setupPasswordToggles() {
            const toggles = document.querySelectorAll('.password-toggle');
            
            toggles.forEach(toggle => {
                toggle.addEventListener('click', () => {
                    const targetId = toggle.getAttribute('data-target');
                    const input = document.getElementById(targetId);
                    const icon = toggle.querySelector('i');
                    
                    if (!input) return; // Safety check
                    
                    if (input.type === 'password') {
                        input.type = 'text';
                        if (icon) {
                            icon.classList.remove('fa-eye');
                            icon.classList.add('fa-eye-slash');
                        }
                    } else {
                        input.type = 'password';
                        if (icon) {
                            icon.classList.remove('fa-eye-slash');
                            icon.classList.add('fa-eye');
                        }
                    }
                });
            });
        }

        function setupFormValidation() {
            const loginForm = document.getElementById('login-form');
            const signupForm = document.getElementById('signup-form');
            
            if (loginForm) {
                loginForm.addEventListener('submit', handleLogin);
            }
            
            if (signupForm) {
                signupForm.addEventListener('submit', handleSignup);
            }
        }

        function setupThemeToggle() {
            const themeToggle = document.getElementById('theme-toggle');
            if (themeToggle && window.themeManager) {
                themeToggle.addEventListener('click', () => {
                    window.themeManager.toggleTheme();
                });
            }
        }

        function handleLogin(e) {
            e.preventDefault();

            const email = document.getElementById('login-email').value.trim();
            const password = document.getElementById('login-password').value;

            if (!email || !password) {
                showAlert('Please fill in all fields', 'error');
                return;
            }

            // Email validation
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                showAlert('Please enter a valid email address', 'error');
                return;
            }

            // Show loading state
            const submitBtn = e.target.querySelector('.auth-button');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Signing In...';
            submitBtn.disabled = true;

            // Use the API service for login
            if (typeof window.apiService !== 'undefined') {
                window.apiService.login(email, password)
                    .then(result => {
                        if (result.success) {
                            showAlert('Login successful! Redirecting...', 'success');
                            // Update local storage with user data
                            localStorage.setItem('currentUser', JSON.stringify(result.data.user));
                            localStorage.setItem('authToken', result.data.token);
                            // Redirect to dashboard
                            setTimeout(() => {
                                window.location.href = 'dashboard.html';
                            }, 1500);
                        } else {
                            showAlert(result.message || 'Invalid email or password', 'error');
                        }
                    })
                    .catch(error => {
                        console.error('Login error:', error);
                        // Fallback to demo login for testing
                        if (email && password) {
                            const demoUser = {
                                id: 'demo_' + Date.now(),
                                name: email.split('@')[0],
                                email: email,
                                joinDate: new Date().toISOString(),
                                lastLogin: new Date().toISOString()
                            };

                            localStorage.setItem('currentUser', JSON.stringify(demoUser));
                            localStorage.setItem('authToken', 'demo_token_' + Date.now());

                            showAlert('Demo login successful! Redirecting...', 'success');
                            setTimeout(() => {
                                window.location.href = 'dashboard.html';
                            }, 1500);
                        } else {
                            showAlert('Invalid email or password', 'error');
                        }
                    })
                    .finally(() => {
                        submitBtn.innerHTML = originalText;
                        submitBtn.disabled = false;
                    });
            } else {
                // Fallback to direct fetch if apiService is not available
                fetch('/api/auth/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        email: email,
                        password: password
                    })
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        showAlert('Login successful! Redirecting...', 'success');
                        // Update local storage with user data
                        localStorage.setItem('currentUser', JSON.stringify(data.data.user));
                        localStorage.setItem('authToken', data.data.token);
                        // Redirect to dashboard
                        setTimeout(() => {
                            window.location.href = 'dashboard.html';
                        }, 1500);
                    } else {
                        showAlert(data.message || 'Invalid email or password', 'error');
                    }
                })
                .catch(error => {
                    console.error('Login error:', error);
                    // Fallback to demo login for testing
                    if (email && password) {
                        const demoUser = {
                            id: 'demo_' + Date.now(),
                            name: email.split('@')[0],
                            email: email,
                            joinDate: new Date().toISOString(),
                            lastLogin: new Date().toISOString()
                        };

                        localStorage.setItem('currentUser', JSON.stringify(demoUser));
                        localStorage.setItem('authToken', 'demo_token_' + Date.now());

                        showAlert('Demo login successful! Redirecting...', 'success');
                        setTimeout(() => {
                            window.location.href = 'dashboard.html';
                        }, 1500);
                    } else {
                        showAlert('Invalid email or password', 'error');
                    }
                })
                .finally(() => {
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                });
        }

        function handleSignup(e) {
            e.preventDefault();

            const name = document.getElementById('signup-name').value.trim();
            const email = document.getElementById('signup-email').value.trim();
            const password = document.getElementById('signup-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            const agreeTerms = document.getElementById('agree-terms')?.checked || false;

            // Validate inputs
            if (!name || !email || !password || !confirmPassword) {
                showAlert('Please fill in all required fields.', 'error');
                return;
            }

            if (!isValidEmail(email)) {
                showAlert('Please enter a valid email address.', 'error');
                return;
            }

            if (password.length < 6) {
                showAlert('Password must be at least 6 characters long.', 'error');
                return;
            }

            if (password !== confirmPassword) {
                showAlert('Passwords do not match.', 'error');
                return;
            }

            if (!agreeTerms) {
                showAlert('Please agree to the Terms of Service.', 'error');
                return;
            }

            // Show loading state
            const submitBtn = e.target.querySelector('.auth-button');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creating Account...';
            submitBtn.disabled = true;

            // Use the API service for registration
            if (typeof window.apiService !== 'undefined') {
                window.apiService.register({ name, email, password })
                    .then(result => {
                        if (result.success) {
                            showAlert('Account created successfully! Redirecting...', 'success');
                            setTimeout(() => {
                                window.location.href = 'dashboard.html';
                            }, 1500);
                        } else {
                            showAlert(result.message || 'Registration failed', 'error');
                        }
                    })
                    .catch(error => {
                        console.error('Registration error:', error);
                        showAlert('Registration failed. Please try again.', 'error');
                    })
                    .finally(() => {
                        submitBtn.innerHTML = originalText;
                        submitBtn.disabled = false;
                    });
            } else {
                // Fallback to direct fetch if apiService is not available
                fetch('/api/auth/register', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        name: name,
                        email: email,
                        password: password
                    })
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        showAlert('Account created successfully! Redirecting...', 'success');
                        localStorage.setItem('currentUser', JSON.stringify(data.data.user));
                        localStorage.setItem('authToken', data.data.token);
                        setTimeout(() => {
                            window.location.href = 'dashboard.html';
                        }, 1500);
                    } else {
                        showAlert(data.message || 'Registration failed', 'error');
                    }
                })
                .catch(error => {
                    console.error('Registration error:', error);
                    // Fallback to localStorage registration for testing
                    const newUser = {
                        id: 'user_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9),
                        name: name,
                        email: email,
                        password: password,
                        joinDate: new Date().toISOString(),
                        lastLogin: new Date().toISOString(),
                        profile: {
                            firstName: name.split(' ')[0] || '',
                            lastName: name.split(' ').slice(1).join(' ') || '',
                            phone: '',
                            bio: ''
                        }
                    };

                    const users = Storage.get('users', []);
                    users.push(newUser);
                    Storage.set('users', users);
                    Storage.set('currentUser', newUser);
                    Storage.set('userStats', {
                        totalScans: 0,
                        spamDetected: 0,
                        safeMessages: 0,
                        suspiciousMessages: 0
                    });

                    showAlert('Account created successfully! Redirecting...', 'success');
                    setTimeout(() => {
                        window.location.href = 'dashboard.html';
                    }, 1500);
                })
                .finally(() => {
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                });
            }
        }

        function showAlert(message, type) {
            const alertEl = document.getElementById('alert-message');
            const alertText = document.getElementById('alert-text');

            if (!alertEl || !alertText) {
                console.error('Alert elements not found');
                alert(message); // Fallback to browser alert
                return;
            }

            alertText.textContent = message;
            alertEl.className = `alert ${type} show`;

            setTimeout(() => {
                alertEl.classList.remove('show');
            }, 5000);
        }

        // Helper function for email validation
        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        // Initialize the login page when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            // Ensure login tab is active by default
            const loginTab = document.querySelector('.auth-tab[data-tab="login"]');
            const signupTab = document.querySelector('.auth-tab[data-tab="signup"]');
            const loginContent = document.getElementById('login-content');
            const signupContent = document.getElementById('signup-content');

            if (loginTab && loginContent) {
                loginTab.classList.add('active');
                loginContent.classList.add('active');
                loginContent.style.display = 'block';
            }

            if (signupTab && signupContent) {
                signupTab.classList.remove('active');
                signupContent.classList.remove('active');
                signupContent.style.display = 'none';
            }
        });
    </script>

    <!-- Additional Scripts -->
    <script src="js/apiService.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/themeManager.js"></script>
    <script src="js/authManager.js"></script>
    <script src="js/userInterface.js"></script>
    <script src="js/login-fix.js"></script>
</body>
</html>
